{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/helpers/message.js","webpack:///./src/app/helpers/utils.js","webpack:///./src/app/models/species-model.js","webpack:///./node_modules/assert/assert.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/app/models/character.js","webpack:///./node_modules/lodash.isstring/index.js","webpack:///./src/app/constants/player.js","webpack:///./src/app/main.js","webpack:///./src/app/game.js","webpack:///./node_modules/super-event-emitter/dist/super-event-emitter.min.js","webpack:///./src/app/state-manager.js","webpack:///./src/app/states/bootstrap-state.js","webpack:///./src/app/states/loading-state.js","webpack:///./src/app/states/play-states/collect-dragon-balls-state.js","webpack:///./src/app/constants/collect.js","webpack:///./src/app/states/static-states/game-over-state.js","webpack:///./src/app/states/select-states/select-language-state.js","webpack:///./node_modules/lodash.isobject/index.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./src/app/states/select-states/select-player-state.js","webpack:///./src/app/models/player.js","webpack:///./src/app/constants/character-attributes.js","webpack:///./src/app/models/species/saiyans/son-goku.js","webpack:///./src/app/models/species/saiyans/vegeta.js","webpack:///./src/app/models/species/monsters/piccolo.js","webpack:///./src/app/models/species/monsters/freeza.js","webpack:///./src/app/models/species/monsters/cell.js","webpack:///./src/app/models/species/monsters/bubu.js","webpack:///./src/app/states/play-states/fight-state.js","webpack:///./src/app/helpers/artificial-intelligence.js","webpack:///./src/app/models/enemy.js","webpack:///./src/app/constants/fight.js","webpack:///./src/app/states/mixins/options-enemy-mixin.js","webpack:///./src/app/states/mixins/options-player-mixin.js","webpack:///./src/app/states/static-states/winner-state.js","webpack:///./src/app/states/static-states/credits-state.js","webpack:///./src/app/states/play-states/avoid-monsters-state.js","webpack:///./src/app/statistics-manager.js","webpack:///./src/app/constants/game.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","BLACK_COLOR","WHITE_COLOR","pkg","utils","displayHorizontalRectangle","game","lifespan","height","arguments","length","undefined","$background","x","y","width","$rect","add","graphics","beginFill","drawRect","endFill","addRectangle","alpha","time","events","Phaser","Timer","SECOND","tween","to","Easing","Linear","None","this","addLabel","text","_$label$anchor","anchor","$label","fill","font","setShadow","setTo","apply","_toConsumableArray","addSaiyanLabel","displayCentralMessage","_ref","_ref$lifespan","_ref$fontSize","fontSize","_ref$cb","cb","$message","addRepeatLink","$repeat","world","centerX","inputEnabled","input","useHandCursor","colorToggler","$text","currentColor","color","console","warn","toggleColor","currentState","state","getCurrentState","timeInterval","interval","displayGameVersion","$version","version","displaySingleLineMessage","displayFullscreenMessage","random","start","stop","parseInt","Math","timeout","delay","timesRandomAsync","max","index","times","loop","clock","repeat","Infinity","slug","toLocaleLowerCase","replace","SpeciesModel","title","_classCallCheck","compare","a","b","len","min","isBuffer","global","Buffer","_isBuffer","util","hasOwn","pSlice","Array","slice","functionsHaveNames","pToString","obj","toString","isView","arrbuf","ArrayBuffer","DataView","buffer","assert","ok","regex","getName","func","isFunction","match","truncate","inspect","something","rawname","fail","actual","expected","message","operator","stackStartFunction","AssertionError","_deepEqual","strict","memos","isDate","getTime","isRegExp","source","multiline","lastIndex","ignoreCase","Float32Array","Float64Array","Uint8Array","actualIndex","indexOf","push","actualVisitedObjects","isPrimitive","getPrototypeOf","aIsArgs","isArguments","bIsArgs","ka","objectKeys","kb","sort","objEquiv","expectedException","test","e","Error","isPrototypeOf","_throws","shouldThrow","block","TypeError","error","_tryBlock","userProvidedMessage","isUnwantedException","isError","isUnexpectedException","options","generatedMessage","self","getMessage","captureStackTrace","err","stack","out","fn_name","idx","next_line","substring","inherits","equal","notEqual","deepEqual","deepStrictEqual","notDeepEqual","notDeepStrictEqual","strictEqual","notStrictEqual","throws","doesNotThrow","ifError","keys","g","Function","eval","window","isString","DEFAULT_ATTRIBUTES","Character","nickname","_phaser","_extends","toLowerCase","sprite","typeClass","type","hp","stringTag","objectToString","isArray","isObjectLike","MAXIMUM_EXPERIENCE","MAXIMUM_LEVEL","_game","_stateManager","_statisticsManager","GAME","Game","WIDTH","HEIGHT","Canvas","RENDER_ID","StateManager","StatisticsManager","SuperEventEmitter","_len","args","_key","_this","_possibleConstructorReturn","__proto__","concat","mixin","locale","player","enemy","enemies","balls","configurable","default","u","_listeners","f","on","fn","ctx","once","off","filter","emit","forEach","addEventListener","addListener","removeEventListener","removeListener","unbind","dispatchEventListener","dispatchListener","trigger","VERSION","description","license","author","email","url","scripts","build","watch","coverage","coveralls","auto-changelog","commit-limit","template","repository","devDependencies","istanbul","jasmine","json-loader","string-replace-loader","webpack","files","keywords","main","setupStates","setupNativeListeners","setupListeners","BootstrapState","LoadingState","SelectLanguageState","SelectPlayerState","CollectDragonBallsState","AvoidMonstersState","FightState","WinnerState","GameOverState","CreditsState","onStateChange","newState","oldState","debug","unshift","log","selectPlayer","startFight","win","State","load","image","renderer","renderSession","roundPixels","stage","backgroundColor","pixelLoadingWidth","cache","getImage","progressBar","setPreloadSprite","path","tilemap","Tilemap","TILED_JSON","spritesheet","json","_this2","COLLECT","layer","emitter","_setupWorld","_setupBalls","_setupSprite","_setupParticles","_setupTimer","COLLECT_DRAGON_BALLS","makeParticles","setXSpeed","gravity","physics","startSystem","Physics","ARCADE","map","addTilesetImage","setCollision","createLayer","resizeWorld","character","_$sprite$anchor","createSprite","id","$sprite","getSprite","arcade","enable","body","collideWorldBounds","positionX","positionY","setSize","scale","animations","play","group","enableBody","getJSON","_ref2","_ref3","_slicedToArray","$ball","tileSprite","_this3","limit","MAPS_TIME_LIMIT","ending","log2","TIME","remain","seconds","setText","onComplete","_handleCollision","_handleKeyboard","$player","collide","_handleCollectedBall","_fireParticles","destroy","keyboard","velocity","isDown","Keyboard","LEFT","PLAYER_SPEED","RIGHT","UP","DOWN","onInputDown","_tryAgain","_setupKeyboard","enter","addKey","ENTER","addKeyCapture","onDown","isObject","plCard","enCard","onEnter","button","_chooseEnglish","onInputOver","_selectEnglish","_choosePolish","_selectPolish","_chooseLanguage","CONTROLS_INFO","left","right","addOnce","process","formatRegExp","format","objects","join","str","String","Number","JSON","stringify","_","isNull","deprecate","msg","isUndefined","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","opts","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","constructor","ret","primitive","simple","isNumber","formatPrimitive","visibleKeys","array","hash","val","arrayToHash","getOwnPropertyNames","formatError","RegExp","Date","output","base","braces","toUTCString","formatProperty","formatArray","pop","reduce","prev","cur","numLinesEst","reduceToSingleString","desc","getOwnPropertyDescriptor","set","split","line","substr","ar","arg","re","pad","debuglog","env","NODE_DEBUG","toUpperCase","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","string","date","regexp","isNullOrUndefined","isSymbol","months","prop","getHours","getMinutes","getSeconds","getDate","getMonth","timestamp","origin","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","browser","argv","versions","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","copy","readUInt8","ctor","superCtor","super_","writable","TempCtor","_message","gokuCard","vegetaCard","cardsIndex","cards","clouds","Freeza","Cell","Bubu","Piccolo","_chooseCharacter","SonGoku","_selectSonGoku","Vegeta","_selectVegeta","Player","setPersonality","_prevCard","_nextCard","_this4","children","item","position","onInputUp","dispatch","up","exp","lvl","settings","FIGHT","OptionsEnemyMixin","OptionsPlayerMixin","defineAnimations","revertDefaultSize","resizeMaximum","boxing","onStart","kicking","angle","resetCharacterVelocity","FALL_SPEED","setBounds","BOTTOM_MARGIN","orientation","avatar","CHARACTER_AVATAR_WIDTH","CHARACTER_AVATAR_HEIGHT","_blank$anchor","_color$anchor","blank","bounce","_setupMoves","onLeft","Signal","HORIZONTAL_SPEED","onRight","onJumping","onFloor","JUMP","onKicking","onBoxing","onDied","FIGHT_STATE_LEVEL_SHORT","C","X","space","SPACEBAR","Enemy","_setupEnemy","_setupFightersActions","_setupPlayerOptions","_setupEnemyOptions","_setupFight","displayLogo","FIGHT_STATE_WELCOME","playerResetSize","_getOrientationResetSize","enemyResetSize","$enemy","context","isCollision","overlap","handlePlayerBlow","points","_addPlayerEXP","_removeEnemyHP","handleEnemyBlow","_addEnemyEXP","_removePlayerHP","KICKING_POINTS","BOXING_POINTS","_finishFight","ArtificialIntelligence","setup","playerState","status","strategies","Map","FIGHT_STATE_PLAYER_WIN","FIGHT_STATE_PLAYER_DIED","enemyState","label","_getLocaleStatus","enabled","alive","shift","intervalTime","strategy","move","PLAYER","_addAvatar","_addBar","_updateEnemyOptionsHP","_updateEnemyOptionsEXP","imageWidth","crop","Rectangle","_updateOptionsLvL","_updatePlayerOptionsHP","_updatePlayerOptionsEXP","ga"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,kCClFA,IAAMC,EAAc,aACdC,EAAc,mBAEhBC,EAAMtC,EAAQ,GACduC,EAAQvC,EAAQ,GAYpB,SAASwC,EAA2BC,EAAMC,GAAwB,IAAdC,EAAcC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAL,IACrDG,EAXR,SAAsBN,EAAMO,EAAGC,EAAGC,EAAOP,GACrC,IAAIQ,EAAQV,EAAKW,IAAIC,SAASL,EAAGC,GAMjC,OAJAE,EAAMG,UAAUjB,EAAa,IAC7Bc,EAAMI,SAAS,EAAG,EAAGL,EAAOP,GAC5BQ,EAAMK,UAECL,EAIWM,CAAahB,EAAM,EAAIA,EAAKE,OAAS,EAAMA,EAAS,EAAIF,EAAKS,MAAOP,GAWtF,OAVAI,EAAYW,MAAQ,EAEpBjB,EAAKkB,KAAKC,OAAOR,IAAIS,OAAOC,MAAMC,OAAS,EAAG,WAC1CtB,EAAKW,IAAIY,MAAMjB,GAAakB,IAAKP,MAAO,GAAKG,OAAOC,MAAMC,OAAS,EAAGF,OAAOK,OAAOC,OAAOC,MAAM,IAClGC,MAEH5B,EAAKkB,KAAKC,OAAOR,IAAIV,EAAWmB,OAAOC,MAAMC,OAAS,EAAG,WACrDtB,EAAKW,IAAIY,MAAMjB,GAAakB,IAAKP,MAAO,GAAKG,OAAOC,MAAMC,OAAS,EAAGF,OAAOK,OAAOC,OAAOC,MAAM,IAClGC,MAEItB,EAGX,SAASuB,EAAS7B,EAAMO,EAAGC,EAAGsB,GAAuB,IAAAC,EAAjBC,EAAiB7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IAAP,EAAG,GACzC8B,EAASjC,EAAKW,IAAImB,KAAKvB,EAAGC,EAAGsB,GAOjC,OALAG,EAAOC,KAAO,OACdD,EAAOE,KAAO,SACdF,EAAOG,UAAU,EAAG,EAAGzC,EAAa,IACpCoC,EAAAE,EAAOD,QAAOK,MAAdC,MAAAP,wHAAAQ,CAAuBP,IAEhBC,EAaX,SAASO,EAAexC,EAAMO,EAAGC,EAAGsB,EAAME,GACtC,IAAIC,EAASJ,EAAS7B,EAAMO,EAAGC,EAAGsB,EAAME,GAExC,OADAC,EAAOE,KAAO,cACPF,EAGX,SAASQ,EAAsBzC,EAA/B0C,GAAmH,IAA5EZ,EAA4EY,EAA5EZ,KAA4Ea,EAAAD,EAAtEzC,gBAAsEI,IAAAsC,EAArC,EAAtBvB,OAAOC,MAAMC,OAA8CqB,EAAAC,EAAAF,EAAlCG,gBAAkCxC,IAAAuC,EAAvB,GAAuBA,EAAAE,EAAAJ,EAAnBK,UAAmB1C,IAAAyC,EAAd,kBAAM,MAAQA,EAC3GE,EAAWnB,EAAS7B,EAAMA,EAAKS,MAAQ,EAAGT,EAAKE,OAAS,EAAG4B,GAAO,GAAK,KAc3E,OAbAkB,EAAS/B,MAAQ,EACjB+B,EAASH,SAAWA,EAEpB7C,EAAKkB,KAAKC,OAAOR,IAAIS,OAAOC,MAAMC,OAAS,EAAG,WAC1CtB,EAAKW,IAAIY,MAAMyB,GAAUxB,IAAKP,MAAO,GAAKG,OAAOC,MAAMC,OAAS,EAAGF,OAAOK,OAAOC,OAAOC,MAAM,IAC/FC,MAEH5B,EAAKkB,KAAKC,OAAOR,IAAIV,EAAWmB,OAAOC,MAAMC,OAAS,EAAG,WACrDtB,EAAKW,IAAIY,MAAMyB,GAAUxB,IAAKP,MAAO,GAAKG,OAAOC,MAAMC,OAAS,EAAGF,OAAOK,OAAOC,OAAOC,MAAM,IAC/FC,MAEH5B,EAAKkB,KAAKC,OAAOR,IAAIV,EAAU8C,EAAInB,MAE5BoB,EA4DXtF,EAAOD,SACHoE,WACAW,iBACAS,cArBJ,SAAuBjD,EAAMO,GAA+B,IAA5BC,EAA4BL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAxB,IAAK6B,EAAmB7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IAAT,GAAK,GAEhD+C,EAAUV,EAAexC,EAAMO,GAAKP,EAAKmD,MAAMC,QAAS5C,EADjD,iCAC0DwB,GAErEkB,EAAQlB,OAAOK,MAAM,GAAK,GAC1Ba,EAAQhB,KAAOtC,EACfsD,EAAQG,cAAe,EACvBH,EAAQI,MAAMC,eAAgB,EAE9B,IAAIC,EAzBR,SAAqBC,EAAOC,GACxB,IAAIC,EAAQD,EAEZ,OAAO,WACCC,IAAU/D,GACV6D,EAAMvB,KAAOyB,EAAQhE,EACrB8D,EAAMrB,UAAU,EAAG,EAAGxC,EAAa,IAC5B+D,IAAUhE,GACjB8D,EAAMvB,KAAOyB,EAAQ/D,EACrB6D,EAAMrB,UAAU,EAAG,EAAGzC,EAAa,IAEnCiE,QAAQC,KAAK,oBAcFC,CAAYZ,EAAStD,GACpCmE,EAAe/D,EAAKgE,MAAMC,kBAC1BC,EAAe9C,OAAOC,MAAMC,OAAS,EAIzC,OAFAxB,EAAMqE,SAASJ,EAAcG,EAAcV,GAEpCN,GAOPkB,mBA7DJ,SAA4BpE,GACxB,IAAIqE,EAAWrE,EAAKW,IAAImB,KAAK,EAAG9B,EAAKE,OAAS,GAAI,IAAML,EAAIyE,SAO5D,OALAD,EAASlC,KAAO,SAChBkC,EAASxB,SAAW,OACpBwB,EAASnC,KAAO,OAChBmC,EAASjC,UAAU,EAAG,EAAGzC,EAAa,GAE/B0E,GAsDPE,yBAnDJ,SAAkCvE,EAAM8B,GAA0C,IAApC7B,EAAoCE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EAAtBiB,OAAOC,MAAMC,OAGlE,OADAvB,EAA2BC,EAAMC,GAC1BwC,EAAsBzC,GAAQ8B,OAAM7B,WAAU4C,SAFtC,MAmDf2B,yBA9CJ,SAAkCxE,EAAM8B,GAA0C,IAApC7B,EAAoCE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EAAtBiB,OAAOC,MAAMC,OAGlE,OADAvB,EAA2BC,EAAMC,EAAUD,EAAKE,QACzCuC,EAAsBzC,GAAQ8B,OAAM7B,WAAU4C,SAFtC,qCCzFnB,SAAS4B,IAA6B,IAAtBC,EAAsBvE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAd,EAAGwE,EAAWxE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAC9B,OAAOyE,SAASC,KAAKJ,UAAYE,EAAOD,EAAQ,GAAKA,EAAO,IA0ChE,SAASI,EAAQd,EAAOe,EAAOhC,GAC3BiB,EAAM9C,KAAKC,OAAOR,IAAIoE,EAAOhC,EAAInB,MAarClE,EAAOD,SACHgH,SACAO,iBAjDJ,SAA0BhB,EAAOiB,EAAKF,EAAOhC,GACzC,IAAImC,EAAQ,EACRC,EAAQV,EAAO,EAAGQ,EAAM,IAE3B,SAASG,IACNN,EAAQd,EAAOe,EAAO,aAClBG,EAEYC,GACRC,IAGJrC,MARP,IA8CDoB,SA5BJ,SAAkBH,EAAOe,EAAOhC,GAC5B,IAAIsC,EAAQrB,EAAM9C,KAAKjC,SACvBoG,EAAMC,OAAOP,EAAOQ,IAAUxC,GAC9BsC,EAAMX,SA0BNI,UACAU,KAXJ,SAAc5G,GAGV,OAFYA,EAAM6G,oBACEC,QAAQ,IAAK,KAClBA,QAAQ,OAAQ,gGC1D/B,SAAAC,EAAAjD,GAAuB,IAATkD,EAASlD,EAATkD,mGAASC,CAAAjE,KAAA+D,GACnB/D,KAAKgE,MAAQA;;;;;;;ACSrB,SAAAE,EAAAC,EAAAC,GACA,GAAAD,IAAAC,EACA,SAMA,IAHA,IAAAzF,EAAAwF,EAAA3F,OACAI,EAAAwF,EAAA5F,OAEAzC,EAAA,EAAAsI,EAAApB,KAAAqB,IAAA3F,EAAAC,GAAuC7C,EAAAsI,IAAStI,EAChD,GAAAoI,EAAApI,KAAAqI,EAAArI,GAAA,CACA4C,EAAAwF,EAAApI,GACA6C,EAAAwF,EAAArI,GACA,MAIA,OAAA4C,EAAAC,GACA,EAEAA,EAAAD,EACA,EAEA,EAEA,SAAA4F,EAAAH,GACA,OAAAI,EAAAC,QAAA,mBAAAD,EAAAC,OAAAF,SACAC,EAAAC,OAAAF,SAAAH,KAEA,MAAAA,MAAAM,WA6BA,IAAAC,EAAAhJ,EAAA,IACAiJ,EAAAnI,OAAAkB,UAAAC,eACAiH,EAAAC,MAAAnH,UAAAoH,MACAC,EAC0B,QAA1B,aAA0B1I,KAE1B,SAAA2I,EAAAC,GACA,OAAAzI,OAAAkB,UAAAwH,SAAAjJ,KAAAgJ,GAEA,SAAAE,EAAAC,GACA,OAAAd,EAAAc,KAGA,mBAAAb,EAAAc,cAGA,mBAAAA,YAAAF,OACAE,YAAAF,OAAAC,KAEAA,IAGAA,aAAAE,aAGAF,EAAAG,QAAAH,EAAAG,kBAAAF,gBASA,IAAAG,EAAA3J,EAAAD,QAAA6J,EAOAC,EAAA,8BAEA,SAAAC,EAAAC,GACA,GAAAlB,EAAAmB,WAAAD,GAAA,CAGA,GAAAb,EACA,OAAAa,EAAAvJ,KAEA,IACAyJ,EADAF,EAAAV,WACAY,MAAAJ,GACA,OAAAI,KAAA,IAyCA,SAAAC,EAAAlI,EAAAN,GACA,uBAAAM,EACAA,EAAAU,OAAAhB,EAAAM,IAAAiH,MAAA,EAAAvH,GAEAM,EAGA,SAAAmI,EAAAC,GACA,GAAAlB,IAAAL,EAAAmB,WAAAI,GACA,OAAAvB,EAAAsB,QAAAC,GAEA,IAAAC,EAAAP,EAAAM,GAEA,mBADAC,EAAA,KAAAA,EAAA,IACA,IAmBA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACA,UAAAhB,EAAAiB,gBACAH,UACAF,SACAC,WACAE,WACAC,uBAcA,SAAAf,EAAA1I,EAAAuJ,GACAvJ,GAAAoJ,EAAApJ,GAAA,EAAAuJ,EAAA,KAAAd,EAAAC,IAoCA,SAAAiB,EAAAN,EAAAC,EAAAM,EAAAC,GAEA,GAAAR,IAAAC,EACA,SACG,GAAA/B,EAAA8B,IAAA9B,EAAA+B,GACH,WAAApC,EAAAmC,EAAAC,GAIG,GAAA3B,EAAAmC,OAAAT,IAAA1B,EAAAmC,OAAAR,GACH,OAAAD,EAAAU,YAAAT,EAAAS,UAKG,GAAApC,EAAAqC,SAAAX,IAAA1B,EAAAqC,SAAAV,GACH,OAAAD,EAAAY,SAAAX,EAAAW,QACAZ,EAAA7B,SAAA8B,EAAA9B,QACA6B,EAAAa,YAAAZ,EAAAY,WACAb,EAAAc,YAAAb,EAAAa,WACAd,EAAAe,aAAAd,EAAAc,WAIG,UAAAf,GAAA,iBAAAA,GACH,OAAAC,GAAA,iBAAAA,EASG,IAAAlB,EAAAiB,IAAAjB,EAAAkB,IACHrB,EAAAoB,KAAApB,EAAAqB,MACAD,aAAAgB,cACAhB,aAAAiB,cACA,OACA,IADApD,EAAA,IAAAqD,WAAAlB,EAAAb,QACA,IAAA+B,WAAAjB,EAAAd,SAQG,GAAAjB,EAAA8B,KAAA9B,EAAA+B,GACH,SAIA,IAAAkB,GAFAX,MAAsBR,UAAAC,cAEtBD,OAAAoB,QAAApB,GACA,WAAAmB,GACAA,IAAAX,EAAAP,SAAAmB,QAAAnB,KAKAO,EAAAR,OAAAqB,KAAArB,GACAQ,EAAAP,SAAAoB,KAAApB,GAUA,SAAAnC,EAAAC,EAAAwC,EAAAe,GACA,UAAAxD,QAAA1F,IAAA0F,GAAA,OAAAC,QAAA3F,IAAA2F,EACA,SAEA,GAAAO,EAAAiD,YAAAzD,IAAAQ,EAAAiD,YAAAxD,GACA,OAAAD,IAAAC,EACA,GAAAwC,GAAAnK,OAAAoL,eAAA1D,KAAA1H,OAAAoL,eAAAzD,GACA,SACA,IAAA0D,EAAAC,EAAA5D,GACA6D,EAAAD,EAAA3D,GACA,GAAA0D,IAAAE,IAAAF,GAAAE,EACA,SACA,GAAAF,EAGA,OAFA3D,EAAAU,EAAA3I,KAAAiI,GACAC,EAAAS,EAAA3I,KAAAkI,GACAuC,EAAAxC,EAAAC,EAAAwC,GAEA,IAEAtJ,EAAAvB,EAFAkM,EAAAC,EAAA/D,GACAgE,EAAAD,EAAA9D,GAIA,GAAA6D,EAAAzJ,SAAA2J,EAAA3J,OACA,SAKA,IAHAyJ,EAAAG,OACAD,EAAAC,OAEArM,EAAAkM,EAAAzJ,OAAA,EAAyBzC,GAAA,EAAQA,IACjC,GAAAkM,EAAAlM,KAAAoM,EAAApM,GACA,SAIA,IAAAA,EAAAkM,EAAAzJ,OAAA,EAAyBzC,GAAA,EAAQA,IAEjC,GADAuB,EAAA2K,EAAAlM,IACA4K,EAAAxC,EAAA7G,GAAA8G,EAAA9G,GAAAsJ,EAAAe,GACA,SAEA,SA/CAU,CAAAhC,EAAAC,EAAAM,EAAAC,IApCA,OAAAD,EAAAP,IAAAC,EAAAD,GAAAC,EAwCA,SAAAyB,EAAAtK,GACA,4BAAAhB,OAAAkB,UAAAwH,SAAAjJ,KAAAuB,GAgFA,SAAA6K,EAAAjC,EAAAC,GACA,IAAAD,IAAAC,EACA,SAGA,sBAAA7J,OAAAkB,UAAAwH,SAAAjJ,KAAAoK,GACA,OAAAA,EAAAiC,KAAAlC,GAGA,IACA,GAAAA,aAAAC,EACA,SAEG,MAAAkC,IAIH,OAAAC,MAAAC,cAAApC,KAIyB,IAAzBA,EAAApK,QAAyBmK,GAazB,SAAAsC,EAAAC,EAAAC,EAAAvC,EAAAC,GACA,IAAAF,EAEA,sBAAAwC,EACA,UAAAC,UAAA,uCAGA,iBAAAxC,IACAC,EAAAD,EACAA,EAAA,MAGAD,EAtBA,SAAAwC,GACA,IAAAE,EACA,IACAF,IACG,MAAAL,GACHO,EAAAP,EAEA,OAAAO,EAeAC,CAAAH,GAEAtC,GAAAD,KAAAhK,KAAA,KAAAgK,EAAAhK,KAAA,WACAiK,EAAA,IAAAA,EAAA,KAEAqC,IAAAvC,GACAD,EAAAC,EAAAC,EAAA,6BAAAC,GAGA,IAAA0C,EAAA,iBAAA1C,EACA2C,GAAAN,GAAAjE,EAAAwE,QAAA9C,GACA+C,GAAAR,GAAAvC,IAAAC,EASA,IAPA4C,GACAD,GACAX,EAAAjC,EAAAC,IACA8C,IACAhD,EAAAC,EAAAC,EAAA,yBAAAC,GAGAqC,GAAAvC,GAAAC,IACAgC,EAAAjC,EAAAC,KAAAsC,GAAAvC,EACA,MAAAA,EAvVAZ,EAAAiB,eAAA,SAAA2C,GACArJ,KAAA1D,KAAA,iBACA0D,KAAAqG,OAAAgD,EAAAhD,OACArG,KAAAsG,SAAA+C,EAAA/C,SACAtG,KAAAwG,SAAA6C,EAAA7C,SACA6C,EAAA9C,SACAvG,KAAAuG,QAAA8C,EAAA9C,QACAvG,KAAAsJ,kBAAA,IAEAtJ,KAAAuG,QA6CA,SAAAgD,GACA,OAAAvD,EAAAC,EAAAsD,EAAAlD,QAAA,SACAkD,EAAA/C,SAAA,IACAR,EAAAC,EAAAsD,EAAAjD,UAAA,KAhDAkD,CAAAxJ,MACAA,KAAAsJ,kBAAA,GAEA,IAAA7C,EAAA4C,EAAA5C,oBAAAL,EACA,GAAAqC,MAAAgB,kBACAhB,MAAAgB,kBAAAzJ,KAAAyG,OACG,CAEH,IAAAiD,EAAA,IAAAjB,MACA,GAAAiB,EAAAC,MAAA,CACA,IAAAC,EAAAF,EAAAC,MAGAE,EAAAjE,EAAAa,GACAqD,EAAAF,EAAAnC,QAAA,KAAAoC,GACA,GAAAC,GAAA,GAGA,IAAAC,EAAAH,EAAAnC,QAAA,KAAAqC,EAAA,GACAF,IAAAI,UAAAD,EAAA,GAGA/J,KAAA2J,MAAAC,KAMAjF,EAAAsF,SAAAxE,EAAAiB,eAAA+B,OA6CAhD,EAAAW,OAYAX,EAAAC,KAMAD,EAAAyE,MAAA,SAAA7D,EAAAC,EAAAC,GACAF,GAAAC,GAAAF,EAAAC,EAAAC,EAAAC,EAAA,KAAAd,EAAAyE,QAMAzE,EAAA0E,SAAA,SAAA9D,EAAAC,EAAAC,GACAF,GAAAC,GACAF,EAAAC,EAAAC,EAAAC,EAAA,KAAAd,EAAA0E,WAOA1E,EAAA2E,UAAA,SAAA/D,EAAAC,EAAAC,GACAI,EAAAN,EAAAC,GAAA,IACAF,EAAAC,EAAAC,EAAAC,EAAA,YAAAd,EAAA2E,YAIA3E,EAAA4E,gBAAA,SAAAhE,EAAAC,EAAAC,GACAI,EAAAN,EAAAC,GAAA,IACAF,EAAAC,EAAAC,EAAAC,EAAA,kBAAAd,EAAA4E,kBAuHA5E,EAAA6E,aAAA,SAAAjE,EAAAC,EAAAC,GACAI,EAAAN,EAAAC,GAAA,IACAF,EAAAC,EAAAC,EAAAC,EAAA,eAAAd,EAAA6E,eAIA7E,EAAA8E,mBACA,SAAAA,EAAAlE,EAAAC,EAAAC,GACAI,EAAAN,EAAAC,GAAA,IACAF,EAAAC,EAAAC,EAAAC,EAAA,qBAAAgE,IAQA9E,EAAA+E,YAAA,SAAAnE,EAAAC,EAAAC,GACAF,IAAAC,GACAF,EAAAC,EAAAC,EAAAC,EAAA,MAAAd,EAAA+E,cAOA/E,EAAAgF,eAAA,SAAApE,EAAAC,EAAAC,GACAF,IAAAC,GACAF,EAAAC,EAAAC,EAAAC,EAAA,MAAAd,EAAAgF,iBA+EAhF,EAAAiF,OAAA,SAAA7B,EAAAE,EAAAxC,GACAoC,GAAA,EAAAE,EAAAE,EAAAxC,IAIAd,EAAAkF,aAAA,SAAA9B,EAAAE,EAAAxC,GACAoC,GAAA,EAAAE,EAAAE,EAAAxC,IAGAd,EAAAmF,QAAA,SAAAlB,GAAgC,GAAAA,EAAA,MAAAA,GAEhC,IAAAxB,EAAAzL,OAAAoO,MAAA,SAAA3F,GACA,IAAA2F,KACA,QAAAvN,KAAA4H,EACAN,EAAA1I,KAAAgJ,EAAA5H,IAAAuN,EAAAnD,KAAApK,GAEA,OAAAuN,ugCCxeA,IAAAC,EAGAA,EAAA,WACA,OAAA9K,KADA,GAIA,IAEA8K,KAAAC,SAAA,cAAAA,KAAA,EAAAC,MAAA,QACC,MAAAxC,GAED,iBAAAyC,SAAAH,EAAAG,QAOAnP,EAAAD,QAAAiP,8eCnBA,IAAII,EAAWvP,EAAQ,GACjBiI,EAASjI,EAAQ,GAAjBiI,KACF6B,EAAS9J,EAAQ,GACfwP,EAAqBxP,EAAQ,IAEdyP,aAmBjB,SAAAA,iGAAcnH,CAAAjE,KAAAoL,GAAApL,KAXdgE,MAAQ,KAWMhE,KARdqL,SAAW,KAQGrL,KAFdsL,QAAU,KAGNC,EAAcvL,KAAMmL,wCAhBpB,OADA1F,EAAOyF,EAASlL,KAAKgE,QACdJ,EAAK5D,KAAKgE,OAAOwH,0DAyBfpJ,EAAOzD,EAAGC,EAAGtB,GACtB0C,KAAKsL,QAAUlJ,EAAMrD,IAAI0M,OAAO9M,EAAGC,EAAGtB,uCAOtC,OAAO0C,KAAKsL,+CAGDI,GACX,IAAIC,EAAO,IAAID,EAEf1L,KAAKgE,MAAQ2H,EAAK3H,wCAIlBhE,KAAK4L,GAAKT,EAAmBS,sBA/ChBR,iBCKrB,IAAAS,EAAA,kBASAC,EANArP,OAAAkB,UAMAwH,SAyBA4G,EAAAjH,MAAAiH,QAkDAjQ,EAAAD,QALA,SAAAmB,GACA,uBAAAA,IACA+O,EAAA/O,IAtBA,SAAAA,GACA,QAAAA,GAAA,iBAAAA,EAqBAgP,CAAAhP,IAAA8O,EAAA5P,KAAAc,IAAA6O,iCCzFA/P,EAAOD,SACHoQ,mBAAoB,IACpBC,cAAe,mCCFnB,IAAAC,EAAAxQ,EAAA,IACAyQ,EAAAzQ,EAAA,IACA0Q,EAAA1Q,EAAA,IAJM2Q,EAAO3Q,EAAQ,IAMfyC,EAAO,IAAImO,OAAKD,EAAKE,MAAOF,EAAKG,OAAQjN,OAAOkN,OAAQJ,EAAKK,WAE9C,IAAIC,eAAaxO,GACzB0E,QAEQ,IAAI+J,oBAAkBzO,GAC9B0E,QAGbmI,OAAO7M,KAAOA,iFCfd,IAAI0O,EAAoBnR,EAAQ,MAEnB4Q,iBACT,SAAAA,IAAqB,IAAAzL,+FAAAmD,CAAAjE,KAAAuM,GAAA,QAAAQ,EAAAxO,UAAAC,OAANwO,EAAMlI,MAAAiI,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAND,EAAMC,GAAA1O,UAAA0O,GAAA,IAAAC,mKAAAC,CAAAnN,MAAAc,EAAAyL,EAAAa,WAAA3Q,OAAAoL,eAAA0E,IAAArQ,KAAAwE,MAAAI,GAAAd,MAAAqN,OACRL,KADQ,OAEjBF,EAAkBQ,MAAlBJ,GAEAA,EAAKK,OAAS,KACdL,EAAKM,OAAS,KACdN,EAAKO,MAAQ,KACbP,EAAKQ,QAAU,KACfR,EAAKS,MAAQ,KARIT,qUADC1N,OAAO+M,4BCF2K,oBAAAhD,WAA7LzN,EAAAD,QAA4O,SAAA2M,GAAmB,SAAAvL,EAAAlB,GAAc,GAAAyB,EAAAzB,GAAA,OAAAyB,EAAAzB,GAAAF,QAA4B,IAAAgB,EAAAW,EAAAzB,IAAYA,IAAAC,GAAA,EAAAH,YAAqB,OAAA2M,EAAAzM,GAAAG,KAAAW,EAAAhB,QAAAgB,IAAAhB,QAAAoB,GAAAJ,EAAAb,GAAA,EAAAa,EAAAhB,QAA2D,IAAA2B,KAAS,OAAAP,EAAAd,EAAAqM,EAAAvL,EAAAb,EAAAoB,EAAAP,EAAAZ,EAAA,SAAAmM,EAAAhL,EAAAzB,GAAuCkB,EAAAT,EAAAgM,EAAAhL,IAAAf,OAAAC,eAAA8L,EAAAhL,GAAqCoQ,cAAA,EAAAjR,YAAA,EAAAC,IAAAb,KAAsCkB,EAAAO,EAAA,SAAAgL,GAAiB,IAAAhL,EAAAgL,KAAArL,WAAA,WAAiC,OAAAqL,EAAAqF,SAAiB,WAAY,OAAArF,GAAU,OAAAvL,EAAAZ,EAAAmB,EAAA,IAAAA,MAAsBP,EAAAT,EAAA,SAAAgM,EAAAvL,GAAmB,OAAAR,OAAAkB,UAAAC,eAAA1B,KAAAsM,EAAAvL,IAAiDA,EAAAY,EAAA,GAAAZ,IAAAa,EAAA,GAAvc,EAAwd,SAAA0K,EAAAvL,EAAAO,GAAkB,aAAagL,EAAA3M,QAAA2B,EAAA,IAAe,SAAAgL,EAAAvL,EAAAO,GAAiB,aAAyP,SAAAhB,EAAAgM,EAAAvL,GAAgB,IAAAuL,EAAA,UAAAC,MAAAxL,GAAyB,SAAAa,EAAA0K,GAAc,uBAAAA,EAAyB,SAAArE,EAAAqE,GAAc,yBAAAA,EAA2B,SAAAsF,IAAa,KAAA9N,gBAAA8N,GAAA,WAAAA,EAAqC9N,KAAA+N;;;;;;;;;;;;;;GActrC,IAAA3R,EAAAoB,EAAA,GAAAwQ,GAAcC,GAAA,SAAAzF,EAAAvL,EAAAO,GAAmB,OAAAhB,EAAAsB,EAAA0K,GAAA,yCAAAhM,EAAA2H,EAAAlH,GAAA,yCAAAO,KAAAwC,UAAA+N,WAAArG,MAAuIpL,KAAAkM,EAAA0F,GAAAjR,EAAAkR,IAAA3Q,IAAkBwC,MAAOoO,KAAA,SAAA5F,EAAAvL,EAAAO,GAAmEA,KAAAwC,KAAU,IAAAnD,EAAAmD,KAAW,OAAAA,KAAAiO,GAAAzF,EAAlE,SAAAzM,IAAakB,EAAAyD,MAAAlD,EAAAe,WAAA1B,EAAAwR,IAAA7F,EAAAzM,IAAqDyB,GAAAwC,MAA2BqO,IAAA,SAAA7F,EAAAvL,GAAmB,OAAA+C,KAAA+N,WAAAvF,EAd6jB,SAAAA,EAAAvL,GAAgB,cAAA6H,MAAAnH,UAAA,OAAA6K,EAAA8F,OAAArR,GAAiD,QAAAO,KAAAzB,EAAA,EAAiBA,EAAAyM,EAAAhK,OAAWzC,GAAA,GAAM,IAAAc,EAAA2L,EAAAzM,GAAWkB,EAAAJ,IAAAW,EAAAkK,KAAA7K,GAAgB,OAAAW,EAc3rBX,CAAAmD,KAAA+N,WAAA,SAAAvQ,GAAuD,OAAAA,EAAAlB,OAAAkM,KAAArE,EAAAlH,IAAAO,EAAA0Q,KAAAjR,OAAoC+C,MAAUuO,KAAA,SAAA/F,EAAAvL,GAAoB,OAAAT,EAAAsB,EAAA0K,GAAA,2CAd+V,SAAAA,EAAAvL,GAAgB,eAAA6H,MAAAnH,UAAA6K,EAAAgG,QAAAvR,QAA4C,QAAAO,EAAA,EAAiBA,EAAAgL,EAAAhK,OAAWhB,GAAA,EAAAP,EAAAuL,EAAAhL,IAcvbzB,CAAAiE,KAAA+N,WAAA,SAAAvQ,GAAuFA,EAAAlB,OAAAkM,GAAAhL,EAAA0Q,GAAAhS,KAAAsB,EAAA2Q,IAAAlR,GAAA,WAAAsL,KAAA/K,EAAAlB,OAAAkB,EAAA0Q,GAAAhS,KAAAsB,EAAA2Q,IAAA3F,EAAAvL,KAA6E+C,OAASgO,EAAAS,iBAAAT,EAAAU,YAAAV,EAAAzQ,KAAAyQ,EAAAC,GAAAD,EAAAW,oBAAAX,EAAAY,eAAAZ,EAAAa,OAAAb,EAAAK,IAAAL,EAAAc,sBAAAd,EAAAe,iBAAAf,EAAAgB,QAAAhB,EAAAO,KAAAT,EAAAnQ,UAAAqQ,EAAAF,EAAAR,MAAA,SAAA9E,GAAiM,IAAAvL,EAAA,IAAA6Q,EAAY,QAAAtQ,KAAAP,EAAAuL,EAAAhL,GAAAP,EAAAO,GAAyB,OAAAgL,GAASsF,EAAAnQ,UAAA2P,MAAAQ,EAAAR,MAAAQ,EAAAmB,QAAA7S,EAAAsG,QAAA8F,EAAA3M,QAAAiS,GAA2D,SAAAtF,EAAAvL,GAAeuL,EAAA3M,SAAWS,KAAA,sBAAA4S,YAAA,2EAAAxM,QAAA,QAAAyM,QAAA,MAAAC,QAAwJ9S,KAAA,iBAAA+S,MAAA,uBAAAC,IAAA,0BAAgFC,SAAUC,MAAA,oBAAAC,MAAA,aAAAlH,KAAA,qDAAAmH,SAAA,oEAAAC,UAAA,8DAAAjN,QAAA,+EAAkVkN,kBAAmBC,gBAAA,EAAAC,SAAA,kCAA4DC,YAAapE,KAAA,MAAA2D,IAAA,wDAAsEU,iBAAkBJ,iBAAA,SAAAD,UAAA,SAAAM,SAAA,SAAAC,QAAA,SAAAC,cAAA,SAAAC,wBAAA,SAAAC,QAAA,WAA0JC,OAAA,oDAAAC,UAAA,wEAAAC,KAAA,0YCdn0D7U,EAAA,SACAA,EAAA,SACAA,EAAA,SACAA,EAAA,SACAA,EAAA,SACAA,EAAA,SACAA,EAAA,SACAA,EAAA,SACAA,EAAA,SACAA,EAAA,0DAEaiR,wBAGT,SAAAA,EAAYxO,gGAAM6F,CAAAjE,KAAA4M,GAAA5M,KAFlB5B,KAAO,KAGH4B,KAAK5B,KAAOA,EACZ4B,KAAKyQ,cACLzQ,KAAK0Q,uBACL1Q,KAAK2Q,iEAIL3Q,KAAK5B,KAAKgE,MAAMrD,IAAI,YAAa6R,WACjC5Q,KAAK5B,KAAKgE,MAAMrD,IAAI,UAAW8R,WAC/B7Q,KAAK5B,KAAKgE,MAAMrD,IAAI,iBAAkB+R,WACtC9Q,KAAK5B,KAAKgE,MAAMrD,IAAI,eAAgBgS,WACpC/Q,KAAK5B,KAAKgE,MAAMrD,IAAI,qBAAsBiS,WAC1ChR,KAAK5B,KAAKgE,MAAMrD,IAAI,gBAAiBkS,WACrCjR,KAAK5B,KAAKgE,MAAMrD,IAAI,QAASmS,WAC7BlR,KAAK5B,KAAKgE,MAAMrD,IAAI,SAAUoS,WAC9BnR,KAAK5B,KAAKgE,MAAMrD,IAAI,WAAYqS,WAChCpR,KAAK5B,KAAKgE,MAAMrD,IAAI,UAAWsS,0DAI/BrR,KAAK5B,KAAKgE,MAAMkP,cAAcvS,IAAI,SAACwS,EAAUC,GACzCxP,QAAQyP,MAAM,iBAAkBF,8CAIvB,IAAArE,EAAAlN,KACbA,KAAK5B,KAAK6P,GAAG,MAAO,WAAa,QAAAlB,EAAAxO,UAAAC,OAATwO,EAASlI,MAAAiI,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAATD,EAASC,GAAA1O,UAAA0O,GAC7BD,EAAK0E,QAAQ,gBAAiB,iBAC9B1P,QAAQ2P,IAAIjR,MAAMsB,QAASgL,KAG/BhN,KAAK5B,KAAK6P,GAAG,iBAAkB,WAC3Bf,EAAK9O,KAAKgE,MAAMU,MAAM,aAG1B9C,KAAK5B,KAAK6P,GAAG,cAAe,WACxBf,EAAK9O,KAAKgE,MAAMU,MAAM,oBAG1B,IAAI8O,EAAe,WACf1E,EAAK9O,KAAKgE,MAAMU,MAAM,iBAG1B9C,KAAK5B,KAAK6P,GAAG,yBAA0B2D,GACvC5R,KAAK5B,KAAK6P,GAAG,sBAAuB2D,GACpC5R,KAAK5B,KAAK6P,GAAG,qBAAsB2D,GAEnC5R,KAAK5B,KAAK6P,GAAG,gBAAiB,WAE1Bf,EAAK9O,KAAKgE,MAAMU,MAAM,wBAG1B,IAAI+O,EAAa,WACb3E,EAAK9O,KAAKgE,MAAMU,MAAM,UAG1B9C,KAAK5B,KAAK6P,GAAG,sBAAuB4D,GACpC7R,KAAK5B,KAAK6P,GAAG,kBAAmB4D,GAEhC7R,KAAK5B,KAAK6P,GAAG,eAAgB,WACQ,IAA7Bf,EAAK9O,KAAKsP,QAAQlP,OAClB0O,EAAK9O,KAAKmQ,KAAK,YAEfrB,EAAK9O,KAAKmQ,KAAK,qBAIvB,IAAIuD,EAAM,WACN5E,EAAK9O,KAAKgE,MAAMU,MAAM,WAG1B9C,KAAK5B,KAAK6P,GAAG,yBAA0B6D,GACvC9R,KAAK5B,KAAK6P,GAAG,WAAY6D,GAEzB9R,KAAK5B,KAAK6P,GAAG,eAAgB,WACzBf,EAAK9O,KAAKgE,MAAMU,MAAM,aAG1B9C,KAAK5B,KAAK6P,GAAG,YAAa,WACtBf,EAAK9O,KAAKgE,MAAMU,MAAM,8CAK1B9C,KAAK5B,KAAKgE,MAAMU,MAAM,kWCnGT8N,grBAAuBpR,OAAOuS,4CAE3C/R,KAAKgS,KAAKC,MAAM,gBAAiB,kEAIjCjS,KAAK5B,KAAK8T,SAASC,cAAcC,aAAc,EAC/CpS,KAAKqS,MAAMC,gBAAkB,OAC7BtS,KAAK5B,KAAKmQ,KAAK,qCARFqC,0UCArB,IAAI1S,EAAQvC,EAAQ,GACdiF,EAAmBjF,EAAQ,GAA3BiF,eACA4B,EAAuB7G,EAAQ,GAA/B6G,mBAKeqO,grBAAqBrR,OAAOuS,4CAE7BnR,EAAeZ,KAAK5B,KAAM4B,KAAKuB,MAAMC,QAAS,IAAK,cAAe,GAAK,KAC7EP,SAAW,IAEjB,IAAIsR,EAAoBvS,KAAKwS,MAAMC,SAAS,iBAAiB5T,MACzD6T,EAAc1S,KAAKjB,IAAI0M,OAAOzL,KAAKuB,MAAMC,QAAW+Q,EAAoB,EAAI,IAAK,iBACrFvS,KAAKgS,KAAKW,iBAAiBD,GAE3B1S,KAAKgS,KAAKY,KAAO,GAEjB5S,KAAKgS,KAAKa,QAAQ,mBAAoB,uCAAwC,KAAMrT,OAAOsT,QAAQC,YACnG/S,KAAKgS,KAAKa,QAAQ,mBAAoB,uCAAwC,KAAMrT,OAAOsT,QAAQC,YACnG/S,KAAKgS,KAAKa,QAAQ,mBAAoB,uCAAwC,KAAMrT,OAAOsT,QAAQC,YAGnG/S,KAAKgS,KAAKY,KAAO,mBAEjB5S,KAAKgS,KAAKC,MAAM,QAAS,aACzBjS,KAAKgS,KAAKC,MAAM,OAAQ,iBACxBjS,KAAKgS,KAAKC,MAAM,UAAW,qBAC3BjS,KAAKgS,KAAKC,MAAM,WAAY,sBAC5BjS,KAAKgS,KAAKC,MAAM,QAAS,aAEzBjS,KAAKgS,KAAKC,MAAM,eAAgB,uCAChCjS,KAAKgS,KAAKC,MAAM,SAAU,2BAC1BjS,KAAKgS,KAAKC,MAAM,aAAc,mCAC9BjS,KAAKgS,KAAKC,MAAM,mBAAoB,+CAEpCjS,KAAKgS,KAAKC,MAAM,gBAAiB,8CACjCjS,KAAKgS,KAAKC,MAAM,cAAe,0CAC/BjS,KAAKgS,KAAKC,MAAM,YAAa,sCAC7BjS,KAAKgS,KAAKC,MAAM,YAAa,sCAC7BjS,KAAKgS,KAAKC,MAAM,cAAe,0CAC/BjS,KAAKgS,KAAKC,MAAM,eAAgB,4CAEhCjS,KAAKgS,KAAKgB,YAAY,iBAAkB,0CAA2C,IAAK,KACxFhT,KAAKgS,KAAKgB,YAAY,eAAgB,sCAAuC,IAAK,KAClFhT,KAAKgS,KAAKgB,YAAY,aAAc,kCAAmC,IAAK,KAC5EhT,KAAKgS,KAAKgB,YAAY,aAAc,kCAAmC,IAAK,KAC5EhT,KAAKgS,KAAKgB,YAAY,eAAgB,sCAAuC,IAAK,KAClFhT,KAAKgS,KAAKgB,YAAY,gBAAiB,wCAAyC,IAAK,KAErFhT,KAAKgS,KAAKgB,YAAY,sBAAuB,iCAAkC,GAAI,IACnFhT,KAAKgS,KAAKgB,YAAY,mBAAoB,8BAA+B,GAAI,IAE7EhT,KAAKgS,KAAKC,MAAM,YAAa,kBAC7BjS,KAAKgS,KAAKC,MAAM,UAAW,gBAC3BjS,KAAKgS,KAAKC,MAAM,iBAAkB,uBAClCjS,KAAKgS,KAAKC,MAAM,SAAU,eAC1BjS,KAAKgS,KAAKC,MAAM,gBAAiB,sBAEjCjS,KAAKgS,KAAKY,KAAO,GAEjB5S,KAAKgS,KAAKiB,KAAK,cAAe,kDAC9BjT,KAAKgS,KAAKiB,KAAK,cAAe,kDAC9BjT,KAAKgS,KAAKiB,KAAK,cAAe,kDAE9BjT,KAAKgS,KAAKiB,KAAK,YAAa,8BAC5BjT,KAAKgS,KAAKiB,KAAK,YAAa,8BAE5BjT,KAAKgS,KAAK9R,KAAK,mBAAoB,mEAG9B,IAAAgT,EAAAlT,KAEL9B,EAAMgF,QAAQlD,KApEQ,IAoEqB,WACvCkT,EAAK9U,KAAKmQ,KAAK,iBAGnB/L,EAAmBxC,KAAK5B,yBAtEXyS,g5BCPrB,IAAMsC,EAAUxX,EAAQ,IACpBuC,EAAQvC,EAAQ,KAE+BA,EAAQ,GAArDiH,6BAA0BhC,mBAEXoQ,6SACjBoC,MAAQ,OACRC,QAAU,+UAFuC7T,OAAOuS,2CAKpD,IAAIlP,EAAS3E,EAAM2E,OAAO,EAAG,GAE7B7C,KAAKsT,YAAYzQ,GACjB7C,KAAKuT,YAAY1Q,GACjB7C,KAAKwT,aAAa,GAAI,GAAIxT,KAAK5B,KAAKoP,QACpCxN,KAAKyT,kBAELzT,KAAK0T,cAEL9Q,EAAyB5C,KAAK5B,KAAM4B,KAAK5B,KAAKmP,OAAOoG,gEAIrD3T,KAAKqT,QAAUrT,KAAKjB,IAAIsU,UACxBrT,KAAKqT,QAAQO,cAAc,SAC3B5T,KAAKqT,QAAQQ,WAAW,IAAK,KAC7B7T,KAAKqT,QAAQS,QAAU,yCAGZnV,EAAGC,GACdoB,KAAKqT,QAAQ1U,EAAIA,EACjBqB,KAAKqT,QAAQzU,EAAIA,EACjBoB,KAAKqT,QAAQvQ,OAAM,EAAM,IAAK,KAAM,wCAG5BD,GACR7C,KAAK+T,QAAQC,YAAYxU,OAAOyU,QAAQC,QAExC,IAAIC,EAAMnU,KAAKjB,IAAI8T,QAAT,kBAAmChQ,GAC7CsR,EAAIC,gBAAgB,uBACpBD,EAAIE,cAAc,EAAG,IAErBrU,KAAKoT,MAAQe,EAAIG,YAAY,gBAC7BtU,KAAKoT,MAAMmB,mDAGF5V,EAAGC,EAAG4V,GAAgC,IAAAC,EAArBrU,EAAqB7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IAAX,GAAK,IACzCiW,EAAUE,aAAa1U,KAAMrB,EAAGC,EAAM4V,EAAUG,GAAhD,UAEA,IAAIC,EAAUJ,EAAUK,aACxBJ,EAAAG,EAAQxU,QAAOK,MAAfC,MAAA+T,wHAAA9T,CAAwBP,IAGxBJ,KAAK+T,QAAQe,OAAOC,OAAOH,GAE3BA,EAAQI,KAAKC,oBAAqB,EAElC,IAAIpW,EAAwB,GAAhB+V,EAAQ/V,MAChBP,EAA0B,GAAjBsW,EAAQtW,OACjB4W,EAA4B,GAAhBN,EAAQ/V,MACpBsW,EAA6B,GAAjBP,EAAQtW,OACxBsW,EAAQI,KAAKI,QAAQvW,EAAOP,EAAQ4W,EAAWC,GAE/CP,EAAQS,MAAM5U,MAAM,GAAK,IAEzBmU,EAAQU,WAAWvW,IAAI,YAAa,EAAG,EAAG,GAAI,GAAG,GAAMwW,2CAG/C1S,GAAQ,IAAAqQ,EAAAlT,KACZ2N,EAAQ3N,KAAK5B,KAAKuP,MAAQ3N,KAAKjB,IAAIyW,QACvC7H,EAAM8H,YAAa,EACnBzV,KAAK+T,QAAQe,OAAOC,OAAOpH,GAEd3N,KAAKwS,MAAMkD,QAAX,aAAgC7S,GACtC2L,QAAQ,SAAAmH,GAAY,IAAAC,EAAAC,EAAAF,EAAA,GAAVhX,EAAUiX,EAAA,GAAPhX,EAAOgX,EAAA,GACnBE,EAAQ5C,EAAKnU,IAAIgX,WAAe,GAAJpX,EAAY,GAAJC,EAAQ,GAAI,GAAI,oBACxDkX,EAAMR,WAAWvW,IAAI,WAAY,EAAG,EAAG,EAAG,GAAI,GAAG,GAAMwW,OACvD5H,EAAM5O,IAAI+W,2CAIJ,IAAAE,EAAAhW,KACNiW,EAAQ9C,EAAQ+C,gBAChBC,EAASnT,SAASC,KAAKmT,KAAKH,IAC5BxS,EAAQzD,KAAK5B,KAAKkB,KAAKjC,SAEvB+D,EAAWR,EAAeZ,KAAK5B,KAAM,GAAI,EAAM4B,KAAK5B,KAAKmP,OAAO8I,KAArD,KAA8DJ,GAC7E7U,EAASH,SAAW,GAEpBwC,EAAMC,OAAOlE,OAAOC,MAAMC,OAAQuW,EAAO,WACrC,IAAIK,EAASL,EAAQjT,SAASS,EAAM8S,SACpCnV,EAASoV,QAAWR,EAAK5X,KAAKmP,OAAO8I,KAArC,KAA8CC,GAE1CA,IAAWH,IACX/U,EAAShB,OAAOK,MAAM,GAAK,IAC3BW,EAASzC,EAAIqX,EAAK5X,KAAKS,MAAQ,EAC/BuC,EAASxC,EAAIoX,EAAK5X,KAAKE,OAAS,EAChC8C,EAASd,KAAO,OAChBc,EAASH,SAAW,MAEzBjB,MAEHyD,EAAMgT,WAAW1X,IAAI,WACjBiX,EAAK5X,KAAKmQ,KAAK,yBAGnB9K,EAAMX,yCAIN9C,KAAK0W,mBACL1W,KAAK2W,6DAIL,IAAIC,EAAU5W,KAAK5B,KAAKoP,OAAOqH,YAE/B7U,KAAK+T,QAAQe,OAAO+B,QAAQD,EAAS5W,KAAKoT,OAC1CpT,KAAK+T,QAAQe,OAAO+B,QAAQD,EAAS5W,KAAK5B,KAAKuP,MAAO3N,KAAK8W,qBAAqBvZ,KAAKyC,oDAGpEwN,EAAQsI,GACzB9V,KAAK+W,eAAejB,EAAMnX,EAAImX,EAAMjX,MAAQ,EAAGiX,EAAMlX,EAAIkX,EAAMxX,OAAS,GAGxEwX,EAAMkB,UAEyB,IAA3BhX,KAAK5B,KAAKuP,MAAMnP,QAChBwB,KAAK5B,KAAKmQ,KAAK,oEAKnB,IAAIqI,EAAU5W,KAAK5B,KAAKoP,OAAOqH,YAC3BoC,EAAWjX,KAAK0B,MAAMuV,SAG1BL,EAAQ5B,KAAKkC,SAASvY,EAAIiY,EAAQ5B,KAAKkC,SAAStY,EAAI,EAEhDqY,EAASE,OAAO3X,OAAO4X,SAASC,MAChCT,EAAQ5B,KAAKkC,SAASvY,GAAKwU,EAAQmE,aAC5BL,EAASE,OAAO3X,OAAO4X,SAASG,SACvCX,EAAQ5B,KAAKkC,SAASvY,GAAKwU,EAAQmE,cAGnCL,EAASE,OAAO3X,OAAO4X,SAASI,IAChCZ,EAAQ5B,KAAKkC,SAAStY,GAAKuU,EAAQmE,aAC5BL,EAASE,OAAO3X,OAAO4X,SAASK,QACvCb,EAAQ5B,KAAKkC,SAAStY,GAAKuU,EAAQmE,+CAKzBtX,KAAK5B,KAAKoP,OAAOqH,+BApJlB7D,gCCHrBlV,EAAOD,SACHyb,aAAc,IACdpB,gBAAiB,iVCJmBva,EAAQ,GAA1CiF,mBAAgBS,kBAED+P,grBAAsB5R,OAAOuS,2CAE1C/R,KAAKjB,IAAIkT,MAAM,EAAG,EAAG,gBAERrR,EAAeZ,KAAK5B,KAAM4B,KAAK5B,KAAKmD,MAAMC,QAAS,GAAI,aAAc,GAAK,IAChFP,SAAW,IAEJI,EAAcrB,KAAK5B,MACzBmB,OAAOmY,YAAY3Y,IAAIiB,KAAK2X,UAAW3X,MAE/CA,KAAK4X,0DAGQ,IAAA1E,EAAAlT,KACT6X,EAAQ7X,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASW,OAGvD/X,KAAK0B,MAAMuV,SAASe,eAChBxY,OAAO4X,SAASW,QAGpBF,EAAMI,OAAOlZ,IAAI,kBAAMmU,EAAKyE,kDAI5B3X,KAAK5B,KAAKmQ,KAAK,uBAAyBd,MAAOzN,KAAK5B,KAAKqP,2BAzB5C2D,6eCFrB,IAAI8G,EAAWvc,EAAQ,IACnB8J,EAAS9J,EAAQ,GACjBuC,EAAQvC,EAAQ,GACdiH,EAA6BjH,EAAQ,GAArCiH,yBAEekO,6SACjBqH,OAAS,OACTC,OAAS,OACTC,QAAU,+UAHmC7Y,OAAOuS,2CAMhD/R,KAAKoY,OAASpY,KAAKjB,IAAIuZ,OAAO,IAAK,IAAK,WAAYtY,KAAKuY,eAAgBvY,MACzEA,KAAKoY,OAAOI,YAAYzZ,IAAIiB,KAAKyY,eAAgBzY,MAEjDA,KAAKmY,OAASnY,KAAKjB,IAAIuZ,OAAO,IAAK,IAAK,UAAWtY,KAAK0Y,cAAe1Y,MACvEA,KAAKmY,OAAOK,YAAYzZ,IAAIiB,KAAK2Y,cAAe3Y,MAEhDA,KAAK4X,iBAEL5X,KAAKyY,yDAILzY,KAAK4Y,gBAAgB,sDAIrB5Y,KAAK4Y,gBAAgB,qDAGTrL,GAAQ,IAAA2F,EAAAlT,KAChBA,KAAK5B,KAAKmP,SAKdvN,KAAK5B,KAAKmP,OAASvN,KAAKwS,MAAMkD,QAAQnI,GAEtC9H,EAAOyS,EAASlY,KAAK5B,KAAKmP,SAE1BvN,KAAK5B,KAAKmQ,KAAK,iBAAmBhB,OAAQA,IAE1C3K,EAAyB5C,KAAK5B,KAAM4B,KAAK5B,KAAKmP,OAAOsL,eAErD3a,EAAMgF,QAAQlD,KAA4B,EAAtBR,OAAOC,MAAMC,OAAY,WACzCwT,EAAK9U,KAAKmQ,KAAK,sEAIN,IAAAyH,EAAAhW,KACT8Y,EAAO9Y,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASC,MAClD0B,EAAQ/Y,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASG,OACnDM,EAAQ7X,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASW,OAGvD/X,KAAK0B,MAAMuV,SAASe,eAChBxY,OAAO4X,SAASC,KAChB7X,OAAO4X,SAASG,MAChB/X,OAAO4X,SAASW,QAGpBe,EAAKb,OAAOlZ,IAAI,kBAAMiX,EAAKyC,mBAC3BM,EAAMd,OAAOlZ,IAAI,kBAAMiX,EAAK2C,kBAC5Bd,EAAMI,OAAOe,QAAQ,kBAAMhD,EAAKqC,oDAIhCrY,KAAKmY,OAAO9Y,MAAQ,EACpBW,KAAKoY,OAAO/Y,MAAQ,GACpBW,KAAKqY,QAAUrY,KAAK0Y,uDAIpB1Y,KAAKmY,OAAO9Y,MAAQ,GACpBW,KAAKoY,OAAO/Y,MAAQ,EACpBW,KAAKqY,QAAUrY,KAAKuY,kCAtEPzH,iBC+BrBhV,EAAAD,QAPA,SAAAmB,GAGA,IAAA2O,SAAA3O,EACA,QAAAA,IAAA,UAAA2O,GAAA,YAAAA,sBCjCA,SAAAnH,EAAAyU,GAqBA,IAAAC,EAAA,WACArd,EAAAsd,OAAA,SAAAnL,GACA,IAAA9C,EAAA8C,GAAA,CAEA,IADA,IAAAoL,KACArd,EAAA,EAAmBA,EAAAwC,UAAAC,OAAsBzC,IACzCqd,EAAA1R,KAAAzB,EAAA1H,UAAAxC,KAEA,OAAAqd,EAAAC,KAAA,KAGAtd,EAAA,EAmBA,IAnBA,IACAiR,EAAAzO,UACA8F,EAAA2I,EAAAxO,OACA8a,EAAAC,OAAAvL,GAAAlK,QAAAoV,EAAA,SAAAva,GACA,UAAAA,EAAA,UACA,GAAA5C,GAAAsI,EAAA,OAAA1F,EACA,OAAAA,GACA,gBAAA4a,OAAAvM,EAAAjR,MACA,gBAAAyd,OAAAxM,EAAAjR,MACA,SACA,IACA,OAAA0d,KAAAC,UAAA1M,EAAAjR,MACS,MAAA4d,GACT,mBAEA,QACA,OAAAhb,KAGAA,EAAAqO,EAAAjR,GAAuBA,EAAAsI,EAAS1F,EAAAqO,IAAAjR,GAChC6d,EAAAjb,KAAAuZ,EAAAvZ,GACA2a,GAAA,IAAA3a,EAEA2a,GAAA,IAAArT,EAAAtH,GAGA,OAAA2a,GAOAzd,EAAAge,UAAA,SAAA3L,EAAA4L,GAEA,GAAAC,EAAAvV,EAAAyU,SACA,kBACA,OAAApd,EAAAge,UAAA3L,EAAA4L,GAAApZ,MAAAV,KAAAzB,YAIA,QAAA0a,EAAAe,cACA,OAAA9L,EAGA,IAAA+L,GAAA,EAeA,OAdA,WACA,IAAAA,EAAA,CACA,GAAAhB,EAAAiB,iBACA,UAAAzR,MAAAqR,GACOb,EAAAkB,iBACPnY,QAAAoY,MAAAN,GAEA9X,QAAA+G,MAAA+Q,GAEAG,GAAA,EAEA,OAAA/L,EAAAxN,MAAAV,KAAAzB,aAOA,IACA8b,EADAC,KA6BA,SAAArU,EAAAf,EAAAqV,GAEA,IAAApM,GACAqM,QACAC,QAAAC,GAkBA,OAfAnc,UAAAC,QAAA,IAAA2P,EAAAwM,MAAApc,UAAA,IACAA,UAAAC,QAAA,IAAA2P,EAAAyM,OAAArc,UAAA,IACAsc,EAAAN,GAEApM,EAAA2M,WAAAP,EACGA,GAEH1e,EAAAkf,QAAA5M,EAAAoM,GAGAR,EAAA5L,EAAA2M,cAAA3M,EAAA2M,YAAA,GACAf,EAAA5L,EAAAwM,SAAAxM,EAAAwM,MAAA,GACAZ,EAAA5L,EAAAyM,UAAAzM,EAAAyM,QAAA,GACAb,EAAA5L,EAAA6M,iBAAA7M,EAAA6M,eAAA,GACA7M,EAAAyM,SAAAzM,EAAAsM,QAAAQ,GACAC,EAAA/M,EAAAjJ,EAAAiJ,EAAAwM,OAoCA,SAAAM,EAAA3B,EAAA6B,GACA,IAAAC,EAAAnV,EAAAoV,OAAAF,GAEA,OAAAC,EACA,KAAAnV,EAAA2U,OAAAQ,GAAA,OAAA9B,EACA,KAAArT,EAAA2U,OAAAQ,GAAA,OAEA9B,EAKA,SAAAoB,EAAApB,EAAA6B,GACA,OAAA7B,EAeA,SAAA4B,EAAA/M,EAAAnR,EAAAse,GAGA,GAAAnN,EAAA6M,eACAhe,GACA8I,EAAA9I,EAAAiJ,UAEAjJ,EAAAiJ,UAAApK,EAAAoK,WAEAjJ,EAAAue,aAAAve,EAAAue,YAAA5d,YAAAX,GAAA,CACA,IAAAwe,EAAAxe,EAAAiJ,QAAAqV,EAAAnN,GAIA,OAHAjD,EAAAsQ,KACAA,EAAAN,EAAA/M,EAAAqN,EAAAF,IAEAE,EAIA,IAAAC,EA+FA,SAAAtN,EAAAnR,GACA,GAAA+c,EAAA/c,GACA,OAAAmR,EAAAsM,QAAA,yBACA,GAAAvP,EAAAlO,GAAA,CACA,IAAA0e,EAAA,IAAAjC,KAAAC,UAAA1c,GAAA8G,QAAA,aACAA,QAAA,YACAA,QAAA,gBACA,OAAAqK,EAAAsM,QAAAiB,EAAA,UAEA,GAAAC,EAAA3e,GACA,OAAAmR,EAAAsM,QAAA,GAAAzd,EAAA,UACA,GAAA6d,EAAA7d,GACA,OAAAmR,EAAAsM,QAAA,GAAAzd,EAAA,WAEA,GAAA4c,EAAA5c,GACA,OAAAmR,EAAAsM,QAAA,eA9GAmB,CAAAzN,EAAAnR,GACA,GAAAye,EACA,OAAAA,EAIA,IAAA5Q,EAAApO,OAAAoO,KAAA7N,GACA6e,EApCA,SAAAC,GACA,IAAAC,KAMA,OAJAD,EAAAtN,QAAA,SAAAwN,EAAAlS,GACAiS,EAAAC,IAAA,IAGAD,EA6BAE,CAAApR,GAQA,GANAsD,EAAA2M,aACAjQ,EAAApO,OAAAyf,oBAAAlf,IAKAmM,EAAAnM,KACA6N,EAAApD,QAAA,eAAAoD,EAAApD,QAAA,mBACA,OAAA0U,EAAAnf,GAIA,OAAA6N,EAAArM,OAAA,CACA,GAAAsH,EAAA9I,GAAA,CACA,IAAAV,EAAAU,EAAAV,KAAA,KAAAU,EAAAV,KAAA,GACA,OAAA6R,EAAAsM,QAAA,YAAAne,EAAA,eAEA,GAAA0K,EAAAhK,GACA,OAAAmR,EAAAsM,QAAA2B,OAAAze,UAAAwH,SAAAjJ,KAAAc,GAAA,UAEA,GAAA8J,EAAA9J,GACA,OAAAmR,EAAAsM,QAAA4B,KAAA1e,UAAAwH,SAAAjJ,KAAAc,GAAA,QAEA,GAAAmM,EAAAnM,GACA,OAAAmf,EAAAnf,GAIA,IA2CAsf,EA3CAC,EAAA,GAAAT,GAAA,EAAAU,GAAA,IAA4C,MAG5CzQ,EAAA/O,KACA8e,GAAA,EACAU,GAAA,UAIA1W,EAAA9I,MAEAuf,EAAA,cADAvf,EAAAV,KAAA,KAAAU,EAAAV,KAAA,IACA,KAkBA,OAdA0K,EAAAhK,KACAuf,EAAA,IAAAH,OAAAze,UAAAwH,SAAAjJ,KAAAc,IAIA8J,EAAA9J,KACAuf,EAAA,IAAAF,KAAA1e,UAAA8e,YAAAvgB,KAAAc,IAIAmM,EAAAnM,KACAuf,EAAA,IAAAJ,EAAAnf,IAGA,IAAA6N,EAAArM,QAAAsd,GAAA,GAAA9e,EAAAwB,OAIA8c,EAAA,EACAtU,EAAAhK,GACAmR,EAAAsM,QAAA2B,OAAAze,UAAAwH,SAAAjJ,KAAAc,GAAA,UAEAmR,EAAAsM,QAAA,uBAIAtM,EAAAqM,KAAA9S,KAAA1K,GAIAsf,EADAR,EAsCA,SAAA3N,EAAAnR,EAAAse,EAAAO,EAAAhR,GAEA,IADA,IAAAyR,KACAvgB,EAAA,EAAAC,EAAAgB,EAAAwB,OAAmCzC,EAAAC,IAAOD,EAC1C6B,EAAAZ,EAAAuc,OAAAxd,IACAugB,EAAA5U,KAAAgV,EAAAvO,EAAAnR,EAAAse,EAAAO,EACAtC,OAAAxd,IAAA,IAEAugB,EAAA5U,KAAA,IASA,OANAmD,EAAA2D,QAAA,SAAAlR,GACAA,EAAAyI,MAAA,UACAuW,EAAA5U,KAAAgV,EAAAvO,EAAAnR,EAAAse,EAAAO,EACAve,GAAA,MAGAgf,EArDAK,CAAAxO,EAAAnR,EAAAse,EAAAO,EAAAhR,GAEAA,EAAAsJ,IAAA,SAAA7W,GACA,OAAAof,EAAAvO,EAAAnR,EAAAse,EAAAO,EAAAve,EAAAwe,KAIA3N,EAAAqM,KAAAoC,MA6GA,SAAAN,EAAAC,EAAAC,GAQA,GANAF,EAAAO,OAAA,SAAAC,EAAAC,GAGA,OAFAC,EACAD,EAAAtV,QAAA,UAAAuV,EACAF,EAAAC,EAAAjZ,QAAA,sBAAAtF,OAAA,GACG,GAEH,GACA,OAAAge,EAAA,IACA,KAAAD,EAAA,GAAAA,EAAA,OACA,IACAD,EAAAjD,KAAA,SACA,IACAmD,EAAA,GAGA,OAAAA,EAAA,GAAAD,EAAA,IAAAD,EAAAjD,KAAA,UAAAmD,EAAA,GA5HAS,CAAAX,EAAAC,EAAAC,IAxBAA,EAAA,GAAAD,EAAAC,EAAA,GA+CA,SAAAL,EAAAnf,GACA,UAAAyL,MAAA9K,UAAAwH,SAAAjJ,KAAAc,GAAA,IAwBA,SAAA0f,EAAAvO,EAAAnR,EAAAse,EAAAO,EAAAve,EAAAwe,GACA,IAAAxf,EAAAgd,EAAA4D,EAsCA,IArCAA,EAAAzgB,OAAA0gB,yBAAAngB,EAAAM,KAAyDN,QAAAM,KACzDV,IAEA0c,EADA4D,EAAAE,IACAjP,EAAAsM,QAAA,6BAEAtM,EAAAsM,QAAA,sBAGAyC,EAAAE,MACA9D,EAAAnL,EAAAsM,QAAA,uBAGA7c,EAAAie,EAAAve,KACAhB,EAAA,IAAAgB,EAAA,KAEAgc,IACAnL,EAAAqM,KAAA/S,QAAAyV,EAAAlgB,OAAA,GAEAsc,EADAM,EAAA0B,GACAJ,EAAA/M,EAAA+O,EAAAlgB,MAAA,MAEAke,EAAA/M,EAAA+O,EAAAlgB,MAAAse,EAAA,IAEA7T,QAAA,WAEA6R,EADAwC,EACAxC,EAAA+D,MAAA,MAAAlJ,IAAA,SAAAmJ,GACA,WAAAA,IACWjE,KAAA,MAAAkE,OAAA,GAEX,KAAAjE,EAAA+D,MAAA,MAAAlJ,IAAA,SAAAmJ,GACA,YAAAA,IACWjE,KAAA,OAIXC,EAAAnL,EAAAsM,QAAA,yBAGAV,EAAAzd,GAAA,CACA,GAAAwf,GAAAxe,EAAAyI,MAAA,SACA,OAAAuT,GAEAhd,EAAAmd,KAAAC,UAAA,GAAApc,IACAyI,MAAA,iCACAzJ,IAAAihB,OAAA,EAAAjhB,EAAAkC,OAAA,GACAlC,EAAA6R,EAAAsM,QAAAne,EAAA,UAEAA,IAAAwH,QAAA,YACAA,QAAA,YACAA,QAAA,gBACAxH,EAAA6R,EAAAsM,QAAAne,EAAA,WAIA,OAAAA,EAAA,KAAAgd,EA2BA,SAAAvN,EAAAyR,GACA,OAAA1Y,MAAAiH,QAAAyR,GAIA,SAAA3C,EAAA4C,GACA,wBAAAA,EAIA,SAAA7D,EAAA6D,GACA,cAAAA,EASA,SAAA9B,EAAA8B,GACA,uBAAAA,EAIA,SAAAvS,EAAAuS,GACA,uBAAAA,EASA,SAAA1D,EAAA0D,GACA,gBAAAA,EAIA,SAAAzW,EAAA0W,GACA,OAAAxF,EAAAwF,IAAA,oBAAA5R,EAAA4R,GAIA,SAAAxF,EAAAuF,GACA,uBAAAA,GAAA,OAAAA,EAIA,SAAA3W,EAAAzK,GACA,OAAA6b,EAAA7b,IAAA,kBAAAyP,EAAAzP,GAIA,SAAA8M,EAAAX,GACA,OAAA0P,EAAA1P,KACA,mBAAAsD,EAAAtD,iBAAAC,OAIA,SAAA3C,EAAA2X,GACA,yBAAAA,EAgBA,SAAA3R,EAAAtP,GACA,OAAAC,OAAAkB,UAAAwH,SAAAjJ,KAAAM,GAIA,SAAAmhB,EAAAngB,GACA,OAAAA,EAAA,OAAAA,EAAA2H,SAAA,IAAA3H,EAAA2H,SAAA,IApbAtJ,EAAA+hB,SAAA,SAAAR,GAIA,GAHArD,EAAAM,KACAA,EAAApB,EAAA4E,IAAAC,YAAA,IACAV,IAAAW,eACAzD,EAAA8C,GACA,OAAAhB,OAAA,MAAAgB,EAAA,WAAA7U,KAAA8R,GAAA,CACA,IAAA2D,EAAA/E,EAAA+E,IACA1D,EAAA8C,GAAA,WACA,IAAAtD,EAAAje,EAAAsd,OAAAzY,MAAA7E,EAAA0C,WACAyD,QAAA+G,MAAA,YAAAqU,EAAAY,EAAAlE,SAGAQ,EAAA8C,GAAA,aAGA,OAAA9C,EAAA8C,IAoCAvhB,EAAAoK,UAIAA,EAAA2U,QACAqD,MAAA,MACAC,QAAA,MACAC,WAAA,MACAC,SAAA,MACAC,OAAA,OACAC,MAAA,OACAC,OAAA,OACAC,MAAA,OACAC,MAAA,OACAC,OAAA,OACAC,SAAA,OACAC,KAAA,OACAC,QAAA,QAIA5Y,EAAAoV,QACAyD,QAAA,OACAC,OAAA,SACAC,QAAA,SACAvgB,UAAA,OACAwgB,KAAA,OACAC,OAAA,QACAC,KAAA,UAEAC,OAAA,OAkRAvjB,EAAAkQ,UAKAlQ,EAAAgf,YAKAhf,EAAA+d,SAKA/d,EAAAwjB,kBAHA,SAAA5B,GACA,aAAAA,GAOA5hB,EAAA8f,WAKA9f,EAAAqP,WAKArP,EAAAyjB,SAHA,SAAA7B,GACA,uBAAAA,GAOA5hB,EAAAke,cAKAle,EAAAmL,WAKAnL,EAAAqc,WAKArc,EAAAiL,SAMAjL,EAAAsN,UAKAtN,EAAAiK,aAUAjK,EAAA+L,YARA,SAAA6V,GACA,cAAAA,GACA,kBAAAA,GACA,iBAAAA,GACA,iBAAAA,GACA,iBAAAA,QACA,IAAAA,GAIA5hB,EAAA0I,SAAA5I,EAAA,IAYA,IAAA4jB,GAAA,sDACA,mBA6CA,SAAA3hB,EAAAsH,EAAAsa,GACA,OAAA/iB,OAAAkB,UAAAC,eAAA1B,KAAAgJ,EAAAsa,GAjCA3jB,EAAA8V,IAAA,WACA3P,QAAA2P,IAAA,UAXA,WACA,IAAAtV,EAAA,IAAAggB,KACA/c,GAAAqe,EAAAthB,EAAAojB,YACA9B,EAAAthB,EAAAqjB,cACA/B,EAAAthB,EAAAsjB,eAAAtG,KAAA,KACA,OAAAhd,EAAAujB,UAAAL,EAAAljB,EAAAwjB,YAAAvgB,GAAA+Z,KAAA,KAMAyG,GAAAjkB,EAAAsd,OAAAzY,MAAA7E,EAAA0C,aAiBA1C,EAAAoO,SAAAtO,EAAA,IAEAE,EAAAkf,QAAA,SAAAgF,EAAAhhB,GAEA,IAAAA,IAAAmZ,EAAAnZ,GAAA,OAAAghB,EAIA,IAFA,IAAAlV,EAAApO,OAAAoO,KAAA9L,GACAhD,EAAA8O,EAAArM,OACAzC,KACAgkB,EAAAlV,EAAA9O,IAAAgD,EAAA8L,EAAA9O,IAEA,OAAAgkB,0CCnkBA,IAOAC,EACAC,EARAhH,EAAAnd,EAAAD,WAUA,SAAAqkB,IACA,UAAAzX,MAAA,mCAEA,SAAA0X,IACA,UAAA1X,MAAA,qCAsBA,SAAA2X,EAAAC,GACA,GAAAL,IAAAM,WAEA,OAAAA,WAAAD,EAAA,GAGA,IAAAL,IAAAE,IAAAF,IAAAM,WAEA,OADAN,EAAAM,WACAA,WAAAD,EAAA,GAEA,IAEA,OAAAL,EAAAK,EAAA,GACK,MAAA7X,GACL,IAEA,OAAAwX,EAAA9jB,KAAA,KAAAmkB,EAAA,GACS,MAAA7X,GAET,OAAAwX,EAAA9jB,KAAA8D,KAAAqgB,EAAA,MAvCA,WACA,IAEAL,EADA,mBAAAM,WACAA,WAEAJ,EAEK,MAAA1X,GACLwX,EAAAE,EAEA,IAEAD,EADA,mBAAAM,aACAA,aAEAJ,EAEK,MAAA3X,GACLyX,EAAAE,GAjBA,GAwEA,IAEAK,EAFAC,KACAC,GAAA,EAEAC,GAAA,EAEA,SAAAC,IACAF,GAAAF,IAGAE,GAAA,EACAF,EAAAhiB,OACAiiB,EAAAD,EAAAnT,OAAAoT,GAEAE,GAAA,EAEAF,EAAAjiB,QACAqiB,KAIA,SAAAA,IACA,IAAAH,EAAA,CAGA,IAAAxd,EAAAkd,EAAAQ,GACAF,GAAA,EAGA,IADA,IAAArc,EAAAoc,EAAAjiB,OACA6F,GAAA,CAGA,IAFAmc,EAAAC,EACAA,OACAE,EAAAtc,GACAmc,GACAA,EAAAG,GAAAG,MAGAH,GAAA,EACAtc,EAAAoc,EAAAjiB,OAEAgiB,EAAA,KACAE,GAAA,EAnEA,SAAAK,GACA,GAAAd,IAAAM,aAEA,OAAAA,aAAAQ,GAGA,IAAAd,IAAAE,IAAAF,IAAAM,aAEA,OADAN,EAAAM,aACAA,aAAAQ,GAEA,IAEAd,EAAAc,GACK,MAAAvY,GACL,IAEA,OAAAyX,EAAA/jB,KAAA,KAAA6kB,GACS,MAAAvY,GAGT,OAAAyX,EAAA/jB,KAAA8D,KAAA+gB,KAgDAC,CAAA9d,IAiBA,SAAA+d,EAAAZ,EAAAvE,GACA9b,KAAAqgB,MACArgB,KAAA8b,QAYA,SAAAoF,KA5BAjI,EAAAkI,SAAA,SAAAd,GACA,IAAArT,EAAA,IAAAlI,MAAAvG,UAAAC,OAAA,GACA,GAAAD,UAAAC,OAAA,EACA,QAAAzC,EAAA,EAAuBA,EAAAwC,UAAAC,OAAsBzC,IAC7CiR,EAAAjR,EAAA,GAAAwC,UAAAxC,GAGA0kB,EAAA/Y,KAAA,IAAAuZ,EAAAZ,EAAArT,IACA,IAAAyT,EAAAjiB,QAAAkiB,GACAN,EAAAS,IASAI,EAAAtjB,UAAAmjB,IAAA,WACA9gB,KAAAqgB,IAAA3f,MAAA,KAAAV,KAAA8b,QAEA7C,EAAAjV,MAAA,UACAiV,EAAAmI,SAAA,EACAnI,EAAA4E,OACA5E,EAAAoI,QACApI,EAAAvW,QAAA,GACAuW,EAAAqI,YAIArI,EAAAhL,GAAAiT,EACAjI,EAAAvK,YAAAwS,EACAjI,EAAA7K,KAAA8S,EACAjI,EAAA5K,IAAA6S,EACAjI,EAAArK,eAAAsS,EACAjI,EAAAsI,mBAAAL,EACAjI,EAAA1K,KAAA2S,EACAjI,EAAAuI,gBAAAN,EACAjI,EAAAwI,oBAAAP,EAEAjI,EAAAyI,UAAA,SAAAplB,GAAqC,UAErC2c,EAAA0I,QAAA,SAAArlB,GACA,UAAAmM,MAAA,qCAGAwQ,EAAA2I,IAAA,WAA2B,WAC3B3I,EAAA4I,MAAA,SAAAC,GACA,UAAArZ,MAAA,mCAEAwQ,EAAA8I,MAAA,WAA4B,yBCvL5BjmB,EAAAD,QAAA,SAAA4hB,GACA,OAAAA,GAAA,iBAAAA,GACA,mBAAAA,EAAAuE,MACA,mBAAAvE,EAAAnd,MACA,mBAAAmd,EAAAwE,0BCJA,mBAAAxlB,OAAAY,OAEAvB,EAAAD,QAAA,SAAAqmB,EAAAC,GACAD,EAAAE,OAAAD,EACAD,EAAAvkB,UAAAlB,OAAAY,OAAA8kB,EAAAxkB,WACA4d,aACAve,MAAAklB,EACAvlB,YAAA,EACA0lB,UAAA,EACAzU,cAAA,MAMA9R,EAAAD,QAAA,SAAAqmB,EAAAC,GACAD,EAAAE,OAAAD,EACA,IAAAG,EAAA,aACAA,EAAA3kB,UAAAwkB,EAAAxkB,UACAukB,EAAAvkB,UAAA,IAAA2kB,EACAJ,EAAAvkB,UAAA4d,YAAA2G,+UCpBAvmB,EAAA,SAEAA,EAAA,SACAA,EAAA,SAEAA,EAAA,SACAA,EAAA,SACAA,EAAA,SACAA,EAAA,KAEA4mB,EAAA5mB,EAAA,6NAEqBoV,6SACjByR,SAAW,OACXC,WAAa,OAEbC,WAAa,OACbC,MAAQ,OACRC,OAAS,+UANkCpjB,OAAOuS,2CAQzC,IAAAmB,EAAAlT,KACLA,KAAK0iB,WAAa,EAClB1iB,KAAK2iB,SACL3iB,KAAK5B,KAAKsP,SAAWmV,UAAQC,UAAMC,UAAMC,WAEzChjB,KAAKjB,IAAIkT,MAAM,EAAG,EAAG,oBAErBjS,KAAK4iB,OAAS5iB,KAAKjB,IAAIyW,QACvBxV,KAAK4iB,OAAOvlB,QAAQ,GAAI,GAAI,SAC5B2C,KAAK4iB,OAAOvlB,OAAO,IAAK,GAAI,SAC5B2C,KAAK4iB,OAAOvlB,OAAO,IAAK,GAAI,SAE5B2C,KAAKwiB,SAAWxiB,KAAKjB,IAAIuZ,OAAO,IAAK,IAAK,gBAAiB,kBAAMpF,EAAK+P,iBAAiBC,aACvFljB,KAAKwiB,SAAShK,YAAYzZ,IAAIiB,KAAKmjB,eAAgBnjB,MACnDA,KAAK2iB,MAAMjb,KAAK1H,KAAKwiB,WAErB,EAAAD,EAAA3hB,gBAAeZ,KAAK5B,KAAM,IAAK,IAAK,YAAY6C,SAAW,GAE3DjB,KAAKyiB,WAAaziB,KAAKjB,IAAIuZ,OAAO,IAAK,IAAK,cAAe,kBAAMpF,EAAK+P,iBAAiBG,aACvFpjB,KAAKyiB,WAAWjK,YAAYzZ,IAAIiB,KAAKqjB,cAAerjB,MACpDA,KAAK2iB,MAAMjb,KAAK1H,KAAKyiB,aAErB,EAAAF,EAAA3hB,gBAAeZ,KAAK5B,KAAM,IAAK,IAAK,UAAU6C,SAAW,GAEzDjB,KAAK4X,iBAEL5X,KAAKmjB,0DAGQzX,GAEb1L,KAAK5B,KAAKoP,OAAS,IAAI8V,UACvBtjB,KAAK5B,KAAKoP,OAAO+V,eAAe7X,GAEhC1L,KAAK5B,KAAKmQ,KAAK,iBAAmBf,OAAQxN,KAAK5B,KAAKoP,kDAGvC,IAAAwI,EAAAhW,KACT8Y,EAAO9Y,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASC,MAClD0B,EAAQ/Y,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASG,OAGvDvX,KAAK0B,MAAMuV,SAASe,eAChBxY,OAAO4X,SAASC,KAChB7X,OAAO4X,SAASG,QAGpBuB,EAAKb,OAAOlZ,IAAI,kBAAMiX,EAAKwN,cAC3BzK,EAAMd,OAAOlZ,IAAI,kBAAMiX,EAAKyN,+CAGvB,IAAAC,EAAA1jB,KACLA,KAAK2W,kBAEL3W,KAAK4iB,OAAOe,SAASnV,QAAQ,SAACoV,EAAMtgB,GAChCsgB,EAAKC,SAASllB,GAAMsE,KAAK0O,IAAIrO,EAAQ,GAAK,EAEtCsgB,EAAKC,SAASllB,EAAI+kB,EAAKtlB,KAAKmD,MAAM1C,QAClC+kB,EAAKC,SAASllB,GAAK,EAAIilB,EAAK/kB,QAEjCmB,gDAIYA,KAAK0B,MAAMuV,SAEbE,OAAO3X,OAAO4X,SAASW,QAChC/X,KAAK2iB,MAAM3iB,KAAK0iB,YAAYoB,UAAUC,+CAK1C/jB,KAAK0iB,aAED1iB,KAAK0iB,WAAa,IAClB1iB,KAAK0iB,WAAa,GAGtB1iB,KAAK2iB,MAAM3iB,KAAK0iB,YAAYlK,YAAYuL,+CAIxC/jB,KAAK0iB,aAED1iB,KAAK0iB,YAAc1iB,KAAK2iB,MAAMnkB,SAC9BwB,KAAK0iB,WAAa1iB,KAAK2iB,MAAMnkB,OAAS,GAG1CwB,KAAK2iB,MAAM3iB,KAAK0iB,YAAYlK,YAAYuL,oDAIxC/jB,KAAKwiB,SAASnjB,MAAQ,EACtBW,KAAKyiB,WAAWpjB,MAAQ,2CAIxBW,KAAKwiB,SAASnjB,MAAQ,GACtBW,KAAKyiB,WAAWpjB,MAAQ,qBA1GX0R,iFCZrB,wDAAApV,EAAA,QAEqB2nB,grBAAelY,0BAAfkY,gCCArBxnB,EAAOD,SAEHmoB,GAAI,EAGJpY,GAAI,IAGJqY,IAAK,EAGLC,IAAK,kFCbT,wDAAAvoB,EAAA,QAEqBunB,cACjB,SAAAA,IAA2B,IAAfiB,EAAe5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,yGAAA0F,CAAAjE,KAAAkjB,GACvBiB,EAASngB,MAAQ,4KADMmJ,CAAAnN,MAAAkjB,EAAA9V,WAAA3Q,OAAAoL,eAAAqb,IAAAhnB,KAAA8D,KAEjBmkB,uUAHuBpgB,0BAAhBmf,iFCFrB,wDAAAvnB,EAAA,QAEqBynB,cACjB,SAAAA,IAA2B,IAAfe,EAAe5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,yGAAA0F,CAAAjE,KAAAojB,GACvBe,EAASngB,MAAQ,0KADMmJ,CAAAnN,MAAAojB,EAAAhW,WAAA3Q,OAAAoL,eAAAub,IAAAlnB,KAAA8D,KAEjBmkB,uUAHsBpgB,0BAAfqf,iFCFrB,wDAAAznB,EAAA,QAEqBqnB,cACjB,SAAAA,IAA2B,IAAfmB,EAAe5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,yGAAA0F,CAAAjE,KAAAgjB,GACvBmB,EAASngB,MAAQ,2KADMmJ,CAAAnN,MAAAgjB,EAAA5V,WAAA3Q,OAAAoL,eAAAmb,IAAA9mB,KAAA8D,KAEjBmkB,uUAHuBpgB,0BAAhBif,iFCFrB,wDAAArnB,EAAA,QAEqBknB,cACjB,SAAAA,IAA2B,IAAfsB,EAAe5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,yGAAA0F,CAAAjE,KAAA6iB,GACvBsB,EAASngB,MAAQ,0KADMmJ,CAAAnN,MAAA6iB,EAAAzV,WAAA3Q,OAAAoL,eAAAgb,IAAA3mB,KAAA8D,KAEjBmkB,uUAHsBpgB,0BAAf8e,iFCFrB,wDAAAlnB,EAAA,QAEqBmnB,cACjB,SAAAA,IAA2B,IAAfqB,EAAe5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,yGAAA0F,CAAAjE,KAAA8iB,GACvBqB,EAASngB,MAAQ,wKADMmJ,CAAAnN,MAAA8iB,EAAA1V,WAAA3Q,OAAAoL,eAAAib,IAAA5mB,KAAA8D,KAEjBmkB,uUAHoBpgB,0BAAb+e,iFCFrB,wDAAAnnB,EAAA,QAEqBonB,cACjB,SAAAA,IAA2B,IAAfoB,EAAe5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,yGAAA0F,CAAAjE,KAAA+iB,GACvBoB,EAASngB,MAAQ,wKADMmJ,CAAAnN,MAAA+iB,EAAA3V,WAAA3Q,OAAAoL,eAAAkb,IAAA7mB,KAAA8D,KAEjBmkB,uUAHoBpgB,0BAAbgf,kfCArBpnB,EAAA,SACAA,EAAA,mVAHA,IAAMyoB,EAAQzoB,EAAQ,IAKlB8J,EAAS9J,EAAQ,GACjBuP,EAAWvP,EAAQ,GACnBuC,EAAQvC,EAAQ,GACdgH,EAA6BhH,EAAQ,GAArCgH,yBACF0hB,EAAoB1oB,EAAQ,IAC5B2oB,EAAqB3oB,EAAQ,IAEjC,SAAS4oB,EAAiB/P,EAAWgQ,GACjC,IAAI5P,EAAUJ,EAAUK,YACpBhW,EAAQ,IACRP,EAAS,IAEb,SAASmmB,IACL7P,EAAQI,KAAKI,QAAQvW,EAAOP,EAAQ,EAAG,GAG3CsW,EAAQU,WAAWvW,IAAI,YAAa,EAAG,EAAG,GAAI,GAAG,GAEjD,IAAI2lB,EAAS9P,EAAQU,WAAWvW,IAAI,UAAW,EAAG,GAAI,GAAG,GACzD2lB,EAAOC,QAAQ5lB,IAAI0lB,GACnBC,EAAOjO,WAAW1X,IAAIylB,GACtBE,EAAOjO,WAAW1X,IAAI,WAClB6V,EAAQW,KAAK,cAGjB,IAAIqP,EAAUhQ,EAAQU,WAAWvW,IAAI,WAAY,EAAG,GAAI,GAAG,GAC3D6lB,EAAQD,QAAQ5lB,IAAI0lB,GACpBG,EAAQnO,WAAW1X,IAAIylB,GACvBI,EAAQnO,WAAW1X,IAAI,WACnB6V,EAAQW,KAAK,cAGjBX,EAAQU,WAAWvW,IAAI,OAAQ,EAAG,GAAI,IAAK,GAAG,GAEnC6V,EAAQU,WAAWvW,IAAI,QAAS,GAAI,GAAI,IAAK,GAAG,GACtD4lB,QAAQ5lB,IAAI,WACb6V,EAAQiQ,OAAS,KAIzB,SAASC,EAAuBlQ,GAC5BA,EAAQI,KAAKkC,SAASvY,EAAI,EAC1BiW,EAAQI,KAAKkC,SAAStY,GAAKwlB,EAAMW,eAGhB7T,6SACjB7H,SACImE,QACI5B,GAAI,KACJqY,IAAK,KACLC,IAAK,MAETzW,OACI7B,GAAI,KACJqY,IAAK,KACLC,IAAK,iVAVuB1kB,OAAOuS,gDAevC/R,KAAKjB,IAAIkT,MAAOjS,KAAK5B,KAAKS,MAAQ,EAAMmB,KAAKwS,MAAMC,SAAS,QAAQ5T,MAAQ,EAAI,EAAG,8CAInFmB,KAAK+T,QAAQC,YAAYxU,OAAOyU,QAAQC,QACxClU,KAAK+T,QAAQe,OAAOhB,QAAQrT,MAAM,EAAG,GACrCT,KAAKuB,MAAMyjB,UAAU,EAAG,EAAGhlB,KAAK5B,KAAKS,MAAOmB,KAAK5B,KAAKE,OAAS8lB,EAAMa,gEAQhDzQ,EAAW0Q,GAChC,IAAItQ,EAAUJ,EAAUK,YAIxB,GAAIqQ,IAAgBtQ,EAAQsQ,YAO5B,OAFAtQ,EAAQsQ,YAAcA,EAEf,WACH,OAAQA,GACJ,IAAK,OACDtQ,EAAQI,KAAKI,QAASvW,IAZrB,IAY6C,EAAG,GACjD,MAEJ,IAAK,QACD+V,EAAQI,KAAKI,QAASvW,IAhBrB,IAgB6CA,GAAW,wCAS9DF,EAAGC,EAAGtB,GACb,IAAI6nB,EAASnlB,KAAKjB,IAAIkT,MAAMtT,EAAGC,EAAGtB,GAElC6nB,EAAOtmB,MAAQulB,EAAMgB,uBACrBD,EAAO7mB,OAAS8lB,EAAMiB,wDAGlB1mB,EAAGC,EAAGtB,GAAsB,IAAAgoB,EAAAC,EAAjBnlB,EAAiB7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IAAP,EAAG,GACxBinB,EAAQxlB,KAAKjB,IAAIkT,MAAMtT,EAAGC,EAAG,aAC7BmD,EAAQ/B,KAAKjB,IAAIkT,MAAMtT,EAAGC,EAAGtB,GAKjC,OAHAgoB,EAAAE,EAAMplB,QAAOK,MAAbC,MAAA4kB,EAAA3kB,EAAsBP,KACtBmlB,EAAAxjB,EAAM3B,QAAOK,MAAbC,MAAA6kB,EAAA5kB,EAAsBP,KAEbolB,QAAOzjB,8CAGPpD,EAAGC,EAAG4V,GAA4B,IAAAC,EAAjBrU,EAAiB7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,IAAP,EAAG,GACvCiW,EAAUE,aAAa1U,KAAMrB,EAAGC,EAAM4V,EAAUG,GAAhD,UAEA,IAAIC,EAAUJ,EAAUK,aACxBJ,EAAAG,EAAQxU,QAAOK,MAAfC,MAAA+T,EAAA9T,EAAwBP,IAGxBJ,KAAK+T,QAAQe,OAAOC,OAAOH,GAE3BA,EAAQI,KAAKyQ,OAAOhlB,MAAM,GAAK,IAC/BmU,EAAQI,KAAKC,oBAAqB,EAElCjV,KAAK0lB,YAAYlR,uCAGTA,GACR,IAAII,EAAUJ,EAAUK,YAExBD,EAAQrV,OAAOomB,OAAS,IAAInmB,OAAOomB,OACnChR,EAAQrV,OAAOomB,OAAO5mB,IAAI,WACtB6V,EAAQI,KAAKkC,SAASvY,GAAKylB,EAAMyB,mBAGrCjR,EAAQrV,OAAOumB,QAAU,IAAItmB,OAAOomB,OACpChR,EAAQrV,OAAOumB,QAAQ/mB,IAAI,WACvB6V,EAAQI,KAAKkC,SAASvY,GAAKylB,EAAMyB,mBAGrCjR,EAAQrV,OAAOwmB,UAAY,IAAIvmB,OAAOomB,OACtChR,EAAQrV,OAAOwmB,UAAUhnB,IAAI,WACpB6V,EAAQI,KAAKgR,YAIlBpR,EAAQI,KAAKkC,SAAStY,GAAKwlB,EAAM6B,QAGrCrR,EAAQrV,OAAO2mB,UAAY,IAAI1mB,OAAOomB,OACtChR,EAAQrV,OAAO2mB,UAAUnnB,IAAI,WACzB6V,EAAQW,KAAK,aAGjBX,EAAQrV,OAAO4mB,SAAW,IAAI3mB,OAAOomB,OACrChR,EAAQrV,OAAO4mB,SAASpnB,IAAI,WACxB6V,EAAQW,KAAK,YAEjBX,EAAQrV,OAAO6mB,OAAS,IAAI5mB,OAAOomB,iDAGrBpR,GACdxU,KAAKqJ,QAAQmL,GAAW0P,IAAI1N,QAAWxW,KAAK5B,KAAKoW,GAAW0P,IAA5D,IAAmElkB,KAAK5B,KAAKmP,OAAO8Y,kEAIpF,IAAIzP,EAAU5W,KAAK5B,KAAKoP,OAAOqH,YAE3BzY,EAAI4D,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASkP,GAC/C3nB,EAAIqB,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASmP,GAC/CvC,EAAKhkB,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASI,IAChDgP,EAAQxmB,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASqP,UAGvDzmB,KAAK0B,MAAMuV,SAASe,eAChBxY,OAAO4X,SAASkP,EAChB9mB,OAAO4X,SAASmP,EAChB/mB,OAAO4X,SAASI,GAChBhY,OAAO4X,SAASqP,WAGpBrqB,EAAE6b,OAAOlZ,IAAI,kBAAM6X,EAAQrX,OAAO2mB,UAAUnC,aAC5CplB,EAAEsZ,OAAOlZ,IAAI,kBAAM6X,EAAQrX,OAAO4mB,SAASpC,aAC3CC,EAAG/L,OAAOlZ,IAAI,kBAAM6X,EAAQrX,OAAOwmB,UAAUhC,aAC7CyC,EAAMvO,OAAOlZ,IAAI,kBAAM6X,EAAQrX,OAAOwmB,UAAUhC,mDAKhD/jB,KAAK5B,KAAKqP,MAAQ,IAAIiZ,UAGtB1mB,KAAK5B,KAAKqP,MAAM8V,eAAevjB,KAAK5B,KAAKsP,QAAQ,qCAIjDnC,EAAcvL,KAAMqkB,EAAmBC,GAEvCtkB,KAAKjB,IAAIkT,MAAM,EAAG,EAAG,oBAErBjS,KAAKsT,cACLtT,KAAK2mB,cAEL3mB,KAAKwT,aAAa,IAAK,IAAKxT,KAAK5B,KAAKoP,QACtCxN,KAAKwT,aAAa,IAAK,IAAKxT,KAAK5B,KAAKqP,OAAQ,EAAG,IAEjDzN,KAAK4mB,wBAEL5mB,KAAK6mB,sBACL7mB,KAAK8mB,qBAEL9mB,KAAK+mB,cACL/mB,KAAK4X,iBAEL5X,KAAKgnB,cACLrkB,EAAyB3C,KAAK5B,KAA9B,GAAuC4B,KAAK5B,KAAKmP,OAAO0Z,qEAIxD,IAAIC,EAAkBlnB,KAAKmnB,yBAAyBnnB,KAAK5B,KAAKoP,OAAQ,QACtE+W,EAAiBvkB,KAAK5B,KAAKoP,OAAQ0Z,GACnCA,IACAlnB,KAAK5B,KAAKoP,OAAOqH,YAAYU,KAAK,YAElC,IAAI6R,EAAiBpnB,KAAKmnB,yBAAyBnnB,KAAK5B,KAAKqP,MAAO,SACpE8W,EAAiBvkB,KAAK5B,KAAKqP,MAAO2Z,GAClCA,IACApnB,KAAK5B,KAAKqP,MAAMoH,YAAYU,KAAK,6CAIjC,IAAI8R,EAASrnB,KAAK5B,KAAKqP,MAAMoH,YACzB+B,EAAU5W,KAAK5B,KAAKoP,OAAOqH,YAC/B7U,KAAK+T,QAAQe,OAAO+B,QAAQwQ,EAAQzQ,GACpCkO,EAAuBuC,GACvBvC,EAAuBlO,GACvB5W,KAAK2W,wDAGK,IAAAzD,EAAAlT,KACNsnB,EAAUtnB,KACV4W,EAAU5W,KAAK5B,KAAKoP,OAAOqH,YAC3BwS,EAASrnB,KAAK5B,KAAKqP,MAAMoH,YAE7B,SAAS0S,IACL,OAAOD,EAAQvT,QAAQe,OAAO0S,QAAQH,EAAQzQ,GAGlD,SAAS6Q,EAAiBC,GAClBH,MACAD,EAAQK,cAAuB,KAATD,GACtBJ,EAAQM,eAAeF,GAEvBL,EAAOrS,KAAKkC,SAASvY,GAA8B,EAAzBylB,EAAMyB,kBAQxC,SAASgC,EAAgBH,GACjBH,MACAD,EAAQQ,aAAaJ,GACrBJ,EAAQS,gBAAgBL,GAExB9Q,EAAQ5B,KAAKkC,SAASvY,GAA8B,EAAzBylB,EAAMyB,kBATzCjP,EAAQrX,OAAO2mB,UAAUnnB,IAAI,kBAAM0oB,EAAiBrD,EAAM4D,kBAC1DpR,EAAQrX,OAAO4mB,SAASpnB,IAAI,kBAAM0oB,EAAiBrD,EAAM6D,iBACzDrR,EAAQrX,OAAO6mB,OAAOrnB,IAAI,kBAAMmU,EAAKgV,aAAa,OAAQ,SAW1Db,EAAO9nB,OAAO2mB,UAAUnnB,IAAI,kBAAM8oB,EAAgBzD,EAAM4D,kBACxDX,EAAO9nB,OAAO4mB,SAASpnB,IAAI,kBAAM8oB,EAAgBzD,EAAM6D,iBACvDZ,EAAO9nB,OAAO6mB,OAAOrnB,IAAI,kBAAMmU,EAAKgV,aAAa,MAAO,UAExDC,UAAuBC,MAAMpoB,KAAMqnB,4CAGtBgB,GACb5iB,EAAOyF,EAASmd,IAChB,IAAIC,EAASD,EAAY7c,cAErB+c,EAAa,IAAIC,IACrBD,EAAWnL,IAAI,MAAOpd,KAAK5B,KAAKmP,OAAOkb,wBACvCF,EAAWnL,IAAI,OAAQpd,KAAK5B,KAAKmP,OAAOmb,yBAExC,IAAInb,EAASgb,EAAW3rB,IAAI0rB,GAG5B,OAFA7iB,EAAOyF,EAASqC,IAETA,uCAGE8a,EAAaM,GAAY,IAAA3S,EAAAhW,KAC9BwN,EAASxN,KAAK5B,KAAKoP,OACnBoJ,EAAUpJ,EAAOqH,YAEjBwS,EADQrnB,KAAK5B,KAAKqP,MACHoH,YAEfvV,EAA6B,EAAtBE,OAAOC,MAAMC,OACpBkpB,EAAWpb,EAAOxJ,MAAlB,IAA2BhE,KAAK6oB,iBAAiBR,GACrD1lB,EAAyB3C,KAAK5B,KAAMwqB,GAGpC5oB,KAAK0B,MAAMuV,SAAS6R,SAAU,EAG9BlS,EAAQ5B,KAAKkC,SAASzW,MAAM,EAAG,GAC/B4mB,EAAOrS,KAAKkC,SAASzW,MAAM,EAAG,GAG9BmW,EAAQrB,KAAK8S,GACbhB,EAAO9R,KAAKoT,GAKZ/R,EAAQmS,OAAQ,EAChB1B,EAAO0B,OAAQ,EAEf7qB,EAAMgF,QAAQlD,KAAMV,EAAM,WAEtB0W,EAAKtU,MAAMuV,SAAS6R,SAAU,EAEV,SAAhBT,EACArS,EAAK5X,KAAKmQ,KAAK,aAAed,MAAOuI,EAAK5X,KAAKqP,SAG/CuI,EAAK5X,KAAKsP,QAAQsb,QAClBhT,EAAK5X,KAAKmQ,KAAK,gBAAkBd,MAAOuI,EAAK5X,KAAKqP,qDAM1D,IAAImJ,EAAU5W,KAAK5B,KAAKoP,OAAOqH,YAC3BoC,EAAWjX,KAAK0B,MAAMuV,SAEtBA,EAASE,OAAO3X,OAAO4X,SAASC,MAChCT,EAAQrX,OAAOomB,OAAO5B,WACf9M,EAASE,OAAO3X,OAAO4X,SAASG,QACvCX,EAAQrX,OAAOumB,QAAQ/B,4CAKb/jB,KAAK5B,KAAKoP,OAAOqH,YAA/B,IAIIwS,EAASrnB,KAAK5B,KAAKqP,MAAMoH,YAE7B7U,KAAK5B,KAAKqT,MAAMuD,KAAKqS,sBAxTRnW,gCClDrB,IAAIhT,EAAQvC,EAAQ,GAiDpBG,EAAOD,SACHusB,MAhDJ,SAAehmB,EAAOwS,GA6BlB,SAAS9R,EAAMmmB,EAAcC,GACzBhrB,EAAMqE,SAASH,EAAO6mB,EAAc,WAChC,GAAKrU,EAAQmU,MAAb,CAIA,IAAIlmB,EAAS3E,EAAM2E,OAAO,EAAGqmB,EAAS1qB,OAAS,IAG/C2qB,EAFWD,EAASrmB,SAM5BC,EAAMtD,OAAOC,MAAMC,QA7BnB,WACIxB,EAAMkF,iBAAiBhB,EAAO,EAAG5C,OAAOC,MAAMC,OAAS,EAAG,WACtDkV,EAAQrV,OAAO4mB,SAASpC,cAIhC,WACI7lB,EAAMkF,iBAAiBhB,EAAO,EAAG5C,OAAOC,MAAMC,OAAS,EAAG,WACtDkV,EAAQrV,OAAO2mB,UAAUnC,gBAsBjCjhB,EAAMtD,OAAOC,MAAMC,OAAS,GA1C5B,WACIxB,EAAMkF,iBAAiBhB,EAAO,GAAI5C,OAAOC,MAAMC,OAAS,GAAI,WACxDkV,EAAQrV,OAAOomB,OAAO5B,cAI9B,WACI7lB,EAAMkF,iBAAiBhB,EAAO,GAAI5C,OAAOC,MAAMC,OAAS,GAAI,WACxDkV,EAAQrV,OAAOumB,QAAQ/B,gBAmC/BjhB,EAA4B,EAAtBtD,OAAOC,MAAMC,QAnBnB,WACIkV,EAAQrV,OAAOwmB,UAAUhC,+FC5BjC,wDAAApoB,EAAA,QAEqB+qB,grBAActb,0BAAdsb,gCCArB5qB,EAAOD,SACHopB,cAAe,GACfY,iBAAkB,IAClBI,KAAM,IACNlB,WAAY,GACZK,uBAAwB,GACxBC,wBAAyB,GAEzB2C,eAAgB,EAChBC,cAAe,iCCXnB,IAAMmB,EAASztB,EAAQ,GACjBiF,EAAmBjF,EAAQ,GAA3BiF,eAIN9E,EAAOD,SACHirB,mBADa,WAET,IAAIrZ,EAAQzN,KAAK5B,KAAKqP,MAEtB7M,EAAeZ,KAAK5B,KAAM,IAAK,GAAI,MACnCwC,EAAeZ,KAAK5B,KAAM,IAAK,GAAI,OACnC4B,KAAKqpB,WAAW,IAAK,GAAO5b,EAAMkH,GAAlC,SAEA3U,KAAKqJ,QAAQoE,MAAMyW,IAAMtjB,EAAeZ,KAAK5B,KAAM,IAAK,GAAOqP,EAAMyW,IAA5C,IAAmDlkB,KAAK5B,KAAKmP,OAAO8Y,yBAA4B,EAAG,IAE5HrmB,KAAKqJ,QAAQoE,MAAM7B,GAAK5L,KAAKspB,QAAQ,IAAK,GAAI,iBAAkB,EAAG,IACnEtpB,KAAKupB,wBAELvpB,KAAKqJ,QAAQoE,MAAMwW,IAAMjkB,KAAKspB,QAAQ,IAAK,GAAI,kBAAmB,EAAG,IACrEtpB,KAAKwpB,0BAGTD,sBAjBa,WAkBT,IAAI3d,EAAK5L,KAAK5B,KAAKqP,MAAM7B,GACrB6d,EAAazpB,KAAKwS,MAAMC,SAAS,iBAAiB5T,MAClDA,EAAQ+M,EAAK6d,EAAa,IAE9BzpB,KAAKqJ,QAAQoE,MAAM7B,GAAG7J,MAAM2nB,KAAK,IAAIlqB,OAAOmqB,UAAUF,EAAa5qB,EAAO,EAAGA,EAAO,MAGxF2qB,uBAzBa,WA0BT,IAAIvF,EAAMjkB,KAAK5B,KAAKqP,MAAMwW,IACtBwF,EAAazpB,KAAKwS,MAAMC,SAAS,WAAW5T,MAC5CA,EAAQolB,EAAMwF,EAAa,IAE/BzpB,KAAKqJ,QAAQoE,MAAMwW,IAAIliB,MAAM2nB,KAAK,IAAIlqB,OAAOmqB,UAAUF,EAAa5qB,EAAO,EAAGA,EAAO,MAGzF+oB,eAjCa,SAiCE5qB,GACX,IAAIyQ,EAAQzN,KAAK5B,KAAKqP,MAClB4Z,EAAS5Z,EAAMoH,YAEnBpH,EAAM7B,IAAM5O,EAERyQ,EAAM7B,IAAM,IACZ6B,EAAM7B,GAAK,EACXyb,EAAO9nB,OAAO6mB,OAAOrC,YAGzB/jB,KAAKupB,wBACLvpB,KAAK4pB,kBAAkB,UAG3B9B,aAhDa,SAgDA9qB,GACT,IAAIyQ,EAAQzN,KAAK5B,KAAKqP,MAEtBA,EAAMwW,KAAOjnB,EAETyQ,EAAMwW,KAAOmF,EAAOnd,qBACpBwB,EAAMwW,IAAM,EAERxW,EAAMyW,IAAMkF,EAAOld,eACnBuB,EAAMyW,OAIdlkB,KAAKwpB,yBACLxpB,KAAK4pB,kBAAkB,yCCnE/B,IAAMR,EAASztB,EAAQ,GACjBiF,EAAmBjF,EAAQ,GAA3BiF,eAIN9E,EAAOD,SACHgrB,oBADa,WAET,IAAIrZ,EAASxN,KAAK5B,KAAKoP,OAEvB5M,EAAeZ,KAAK5B,KAAM,GAAI,GAAI,MAClCwC,EAAeZ,KAAK5B,KAAM,EAAG,GAAI,OACjC4B,KAAKqpB,WAAW,EAAG,GAAO7b,EAAOmH,GAAjC,SAEA3U,KAAKqJ,QAAQmE,OAAO0W,IAAMtjB,EAAeZ,KAAK5B,KAAM,GAAI,GAAOoP,EAAO0W,IAA5C,IAAmDlkB,KAAK5B,KAAKmP,OAAO8Y,yBAE9FrmB,KAAKqJ,QAAQmE,OAAO5B,GAAK5L,KAAKspB,QAAQ,GAAI,GAAI,UAC9CtpB,KAAK6pB,yBAEL7pB,KAAKqJ,QAAQmE,OAAOyW,IAAMjkB,KAAKspB,QAAQ,GAAI,GAAI,WAC/CtpB,KAAK8pB,2BAGTD,uBAjBa,WAkBT,IAEIhrB,EAFKmB,KAAK5B,KAAKoP,OAAO5B,GACT5L,KAAKwS,MAAMC,SAAS,UAAU5T,MACjB,IAC9BmB,KAAKqJ,QAAQmE,OAAO5B,GAAG7J,MAAM2nB,KAAK,IAAIlqB,OAAOmqB,UAAU,EAAG,EAAG9qB,EAAO,MAGxEirB,wBAxBa,WAyBT,IAEIjrB,EAFMmB,KAAK5B,KAAKoP,OAAOyW,IACVjkB,KAAKwS,MAAMC,SAAS,WAAW5T,MACjB,IAC/BmB,KAAKqJ,QAAQmE,OAAOyW,IAAIliB,MAAM2nB,KAAK,IAAIlqB,OAAOmqB,UAAU,EAAG,EAAG9qB,EAAO,MAGzEkpB,gBA/Ba,SA+BG/qB,GACZ,IAAIwQ,EAASxN,KAAK5B,KAAKoP,OACnBoJ,EAAUpJ,EAAOqH,YAErBrH,EAAO5B,IAAM5O,EAETwQ,EAAO5B,IAAM,IACb4B,EAAO5B,GAAK,EACZgL,EAAQrX,OAAO6mB,OAAOrC,YAG1B/jB,KAAK6pB,yBACL7pB,KAAK4pB,kBAAkB,WAG3BjC,cA9Ca,SA8CC3qB,GACV,IAAIwQ,EAASxN,KAAK5B,KAAKoP,OAEvBA,EAAOyW,KAAOjnB,EAEVwQ,EAAOyW,KAAOmF,EAAOnd,qBACrBuB,EAAOyW,IAAM,EAETzW,EAAO0W,IAAMkF,EAAOld,eACpBsB,EAAO0W,OAIflkB,KAAK8pB,0BACL9pB,KAAK4pB,kBAAkB,wVCjEzBhpB,EAAmBjF,EAAQ,GAA3BiF,eAEeuQ,grBAAoB3R,OAAOuS,2CACnC,IAAAmB,EAAAlT,KACLA,KAAKjB,IAAIkT,MAAM,EAAG,EAAG,UACrBrR,EAAeZ,KAAK5B,KAAM,IAAK,GAAI,WAAW6C,SAAW,IAEzDqf,WAAW,WACPpN,EAAK9U,KAAKmQ,KAAK,iBAChB,wBAPU4C,gVCF+BxV,EAAQ,GAApDiF,mBAAgBX,aAAUoB,kBAE5BpD,EAAMtC,EAAQ,GAEC0V,grBAAqB7R,OAAOuS,2CAEzC/R,KAAKjB,IAAIkT,MAAM,EAAG,EAAG,cAErBrR,EAAeZ,KAAK5B,KAAM4B,KAAK5B,KAAKmD,MAAMC,QAAS,GAAI,WAAY,GAAK,IAAIP,SAAW,GAEvFhB,EAASD,KAAK5B,KAAM4B,KAAK5B,KAAKmD,MAAMC,QAAS,IAAK,gBAAiB,GAAK,IAAIP,SAAW,GACvFhB,EAASD,KAAK5B,KAAM4B,KAAK5B,KAAKmD,MAAMC,QAAS,IAAK,kBAAmB,GAAK,IAAIP,SAAW,GACzFhB,EAASD,KAAK5B,KAAM4B,KAAK5B,KAAKmD,MAAMC,QAAS,IAAK,eAAgB,GAAK,IAAIP,SAAW,GAEtF,IAAMwB,EAAWxC,EAASD,KAAK5B,KAAM4B,KAAK5B,KAAKmD,MAAMC,QAAS,IAA7C,IAAsDvD,EAAIyE,SAAY,GAAK,IAC5FD,EAASjC,UAAU,EAAG,EAAG,KAAM,GAC/BiC,EAASnC,KAAO,gBAChBmC,EAASxB,SAAW,GAEJI,EAAcrB,KAAK5B,MAC3BmB,OAAOmY,YAAY3Y,IAAIiB,KAAK2X,UAAW3X,MAE/CA,KAAK4X,0DAGQ,IAAA1E,EAAAlT,KACP6X,EAAQ7X,KAAK0B,MAAMuV,SAASa,OAAOtY,OAAO4X,SAASW,OAGzD/X,KAAK0B,MAAMuV,SAASe,eAChBxY,OAAO4X,SAASW,QAGpBF,EAAMI,OAAOlZ,IAAI,kBAAMmU,EAAKyE,kDAI5B3X,KAAK5B,KAAKmQ,KAAK,uBAAyBd,MAAOzN,KAAK5B,KAAKqP,2BAjC5C4D,8UCJAJ,grBAA2BzR,OAAOuS,+DAAlCd,0UCMH,mBAAP8Y,KACP9e,OAAO8e,GAAK,WAAa,QAAAhd,EAAAxO,UAAAC,OAATwO,EAASlI,MAAAiI,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAATD,EAASC,GAAA1O,UAAA0O,GACrBD,EAAK0E,QAAQ,0BAKR7E,6BAGT,SAAAA,EAAYzO,gGAAM6F,CAAAjE,KAAA6M,GAAA7M,KAFlB5B,KAAO,KAGH4B,KAAK5B,KAAOA,4CAIZ4B,KAAK5B,KAAK6P,GAAG,gBAAiB,SAAAnN,GAAmB,IAAhB0T,EAAgB1T,EAAhB0T,UAC7BuV,GAAG,OAAQ,QAAS,OAApB,UAAsCvV,EAAUG,MAGpD3U,KAAK5B,KAAK6P,GAAG,gBAAiB,SAAA0H,GAAgB,IAAbpI,EAAaoI,EAAbpI,OAC7Bwc,GAAG,OAAQ,QAAS,OAAQxc,KAGhCvN,KAAK5B,KAAK6P,GAAG,YAAa,WACtB8b,GAAG,OAAQ,QAAS,OAAQ,UAGhC/pB,KAAK5B,KAAK6P,GAAG,sBAAuB,WAChC8b,GAAG,OAAQ,QAAS,OAAQ,eAGhC/pB,KAAK5B,KAAK6P,GAAG,WAAY,WACrB8b,GAAG,OAAQ,QAAS,OAAQ,SAGhC/pB,KAAK5B,KAAK6P,GAAG,qBAAsB,WAC/B8b,GAAG,OAAQ,QAAS,OAAQ,0DCxCxCjuB,EAAOD,SACH2Q,MAAO,IACPC,OAAQ,IACRE,UAAW","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","const BLACK_COLOR = 'rgb(0,0,0)';\nconst WHITE_COLOR = 'rgb(255,255,255)';\n\nlet pkg = require('../../../package.json');\nlet utils = require('./utils');\n\nfunction addRectangle(game, x, y, width, height) {\n    let $rect = game.add.graphics(x, y);\n\n    $rect.beginFill(WHITE_COLOR, 0.5);\n    $rect.drawRect(0, 0, width, height);\n    $rect.endFill();\n\n    return $rect;\n}\n\nfunction displayHorizontalRectangle(game, lifespan, height = 150) {\n    let $background = addRectangle(game, 0, (game.height / 2) - (height / 2), game.width, height);\n    $background.alpha = 0;\n\n    game.time.events.add(Phaser.Timer.SECOND / 4, () => {\n        game.add.tween($background).to({ alpha: 1 }, Phaser.Timer.SECOND / 2, Phaser.Easing.Linear.None, true);\n    }, this);\n\n    game.time.events.add(lifespan - Phaser.Timer.SECOND / 2, () => {\n        game.add.tween($background).to({ alpha: 0 }, Phaser.Timer.SECOND / 2, Phaser.Easing.Linear.None, true);\n    }, this);\n\n    return $background;\n}\n\nfunction addLabel(game, x, y, text, anchor = [0, 0]) {\n    let $label = game.add.text(x, y, text);\n\n    $label.fill = '#fff';\n    $label.font = 'Tahoma';\n    $label.setShadow(0, 0, BLACK_COLOR, 3);\n    $label.anchor.setTo(...anchor);\n\n    return $label\n}\n\n/**\n * Tworzy text z uyciem fonta: Saiyan Sans.\n *\n * @param {Phaser.Game} game\n * @param {number} x\n * @param {number} y\n * @param {string} text\n * @param {Array} [anchor]\n * @returns {Phaser.Text}\n */\nfunction addSaiyanLabel(game, x, y, text, anchor) {\n    let $label = addLabel(game, x, y, text, anchor);\n    $label.font = 'Saiyan-Sans';\n    return $label;\n}\n\nfunction displayCentralMessage(game, { text, lifespan = Phaser.Timer.SECOND * 2, fontSize = 40, cb = () => null }) {\n    let $message = addLabel(game, game.width / 2, game.height / 2, text, [0.5, 0.5]);\n    $message.alpha = 0;\n    $message.fontSize = fontSize;\n\n    game.time.events.add(Phaser.Timer.SECOND / 4, () => {\n        game.add.tween($message).to({ alpha: 1 }, Phaser.Timer.SECOND / 4, Phaser.Easing.Linear.None, true);\n    }, this);\n\n    game.time.events.add(lifespan - Phaser.Timer.SECOND / 2, () => {\n        game.add.tween($message).to({ alpha: 0 }, Phaser.Timer.SECOND / 4, Phaser.Easing.Linear.None, true);\n    }, this);\n\n    game.time.events.add(lifespan, cb, this);\n\n    return $message;\n}\n\nfunction displayGameVersion(game) {\n    let $version = game.add.text(5, game.height - 20, 'v' + pkg.version);\n\n    $version.font = 'Tahoma';\n    $version.fontSize = '10px';\n    $version.fill = '#fff';\n    $version.setShadow(0, 0, BLACK_COLOR, 3);\n\n    return $version;\n}\n\nfunction displaySingleLineMessage(game, text, lifespan = Phaser.Timer.SECOND * 2) {\n    let fontSize = 60;\n    displayHorizontalRectangle(game, lifespan);\n    return displayCentralMessage(game, { text, lifespan, fontSize });\n}\n\nfunction displayFullscreenMessage(game, text, lifespan = Phaser.Timer.SECOND * 2) {\n    let fontSize = 40;\n    displayHorizontalRectangle(game, lifespan, game.height);\n    return displayCentralMessage(game, { text, lifespan, fontSize });\n}\n\nfunction toggleColor($text, currentColor) {\n    let color = currentColor;\n\n    return function () {\n        if (color === WHITE_COLOR) {\n            $text.fill = color = BLACK_COLOR;\n            $text.setShadow(0, 0, WHITE_COLOR, 3);\n        } else if (color === BLACK_COLOR) {\n            $text.fill = color = WHITE_COLOR;\n            $text.setShadow(0, 0, BLACK_COLOR, 3);\n        } else {\n            console.warn('ignore toggling');\n        }\n    }\n}\n\nfunction addRepeatLink(game, x, y = 333, anchor = [0.5, 0]) {\n    let text = 'press ENTER to play once again';\n    let $repeat = addSaiyanLabel(game, x || game.world.centerX, y, text, anchor);\n\n    $repeat.anchor.setTo(0.5, 0);\n    $repeat.fill = WHITE_COLOR;\n    $repeat.inputEnabled = true;\n    $repeat.input.useHandCursor = true;\n\n    let colorToggler = toggleColor($repeat, WHITE_COLOR);\n    let currentState = game.state.getCurrentState();\n    let timeInterval = Phaser.Timer.SECOND / 2;\n\n    utils.interval(currentState, timeInterval, colorToggler);\n\n    return $repeat;\n}\n\nmodule.exports = {\n    addLabel,\n    addSaiyanLabel,\n    addRepeatLink,\n    displayGameVersion,\n    displaySingleLineMessage,\n    displayFullscreenMessage\n};\n","/**\n * @param {number} start Number which is down limit.\n * @param {number} stop Number which is up limit.\n * @returns {number}\n */\nfunction random(start = 0, stop = 10) {\n    return parseInt(Math.random() * (stop - start + 1) + start, 10);\n}\n\n/**\n * @param {Phaser.State} state Game state.\n * @param {number} max Number of maximum times.\n * @param {number} delay Number of milliseconds of delay.\n * @param {Function} cb Callback.\n */\nfunction timesRandomAsync(state, max, delay, cb) {\n    let index = 0;\n    let times = random(1, max - 1);\n\n    (function loop() {\n        timeout(state, delay, () => {\n            index++;\n\n            if (index < times) {\n                loop();\n            }\n\n            cb();\n        });\n    }());\n}\n\n/**\n * @param {Phaser.State} state Game state.\n * @param {number} delay Number of milliseconds of delay.\n * @param {Function} cb Callback.\n */\nfunction interval(state, delay, cb) {\n    let clock = state.time.create();\n    clock.repeat(delay, Infinity, cb);\n    clock.start();\n}\n\n/**\n * @param {Phaser.State} state Game state.\n * @param {number} delay Number of milliseconds of delay.\n * @param {Function} cb Callback.\n */\nfunction timeout(state, delay, cb) {\n    state.time.events.add(delay, cb, this);\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction slug(value) {\n    let lower = value.toLocaleLowerCase();\n    let letters = lower.replace(//, 'u');\n    return letters.replace(/\\W/gi, '-');\n}\n\nmodule.exports = {\n    random,\n    timesRandomAsync,\n    interval,\n    timeout,\n    slug\n};\n","export default class SpeciesModel {\n    constructor({ title }) {\n        this.title = title;\n    }\n}\n","'use strict';\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","let isString = require('lodash.isstring');\nlet { slug } = require('../helpers/utils');\nlet assert = require('assert');\nconst DEFAULT_ATTRIBUTES = require('../constants/character-attributes');\n\nexport default class Character {\n    // Identyfikator uytkownika, np. goku, vegeta\n    get id() {\n        assert(isString(this.title));\n        return slug(this.title).toLowerCase();\n    }\n\n    // Nazwa postaci, np. Son Goku, Vegeta.\n    title = null;\n\n    // TODO(piecioshka): uytkownik podaje swoj nazw.\n    nickname = null;\n\n    /**\n     * @type {?Phaser.Sprite}\n     * @access private\n     */\n    _phaser = null;\n\n    constructor() {\n        Object.assign(this, DEFAULT_ATTRIBUTES);\n    }\n\n    /**\n     * @param {Phaser.State} state\n     * @param {number} x\n     * @param {number} y\n     * @param {string} key\n     */\n    createSprite(state, x, y, key) {\n        this._phaser = state.add.sprite(x, y, key);\n    }\n\n    /**\n     * @returns {?Phaser.Sprite}\n     */\n    getSprite() {\n        return this._phaser;\n    }\n\n    setPersonality(typeClass) {\n        let type = new typeClass();\n        // console.log(this.constructor.name + '#setPersonality', type);\n        this.title = type.title;\n    }\n\n    resetHP() {\n        this.hp = DEFAULT_ATTRIBUTES.hp;\n    }\n}\n","/**\n * lodash 4.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\nmodule.exports = isString;\n","'use strict';\n\nmodule.exports = {\n    MAXIMUM_EXPERIENCE: 100,\n    MAXIMUM_LEVEL: 100\n};\n","const GAME = require('./constants/game');\n\nimport { Game } from './game';\nimport { StateManager } from './state-manager';\nimport { StatisticsManager } from './statistics-manager';\n\nconst game = new Game(GAME.WIDTH, GAME.HEIGHT, Phaser.Canvas, GAME.RENDER_ID);\n\nconst stateManager = new StateManager(game);\nstateManager.start();\n\nconst statsManager = new StatisticsManager(game);\nstatsManager.start();\n\n// For Development. Aby si lepiej programowao.\nwindow.game = game;\n","let SuperEventEmitter = require('super-event-emitter');\n\nexport class Game extends Phaser.Game {\n    constructor(...args) {\n        super(...args);\n        SuperEventEmitter.mixin(this);\n\n        this.locale = null;\n        this.player = null;\n        this.enemy = null;\n        this.enemies = null;\n        this.balls = null;\n    }\n}\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.EventEmitter=t():e.EventEmitter=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,t,n){\"use strict\";e.exports=n(1)},function(e,t,n){\"use strict\";function i(e,t){if(\"forEach\"in Array.prototype)e.forEach(t);else for(var n=0;n<e.length;n+=1)t(e[n])}function r(e,t){if(\"filter\"in Array.prototype)return e.filter(t);for(var n=[],i=0;i<e.length;i+=1){var r=e[i];t(r)&&n.push(r)}return n}function o(e,t){if(!e)throw new Error(t)}function s(e){return\"string\"==typeof e}function a(e){return\"function\"==typeof e}function u(){if(!(this instanceof u))return new u;this._listeners=[]}/**\n * @author Piotr Kowalski <piecioshka@gmail.com> (https://piecioshka.pl/)\n * @name super-event-emitter\n * @description Super small (2KB) and simple interpretation of popular event management.\n * @version 4.1.6\n * @license MIT\n * @example\n * var bar = {}; // Or any other object.\n * EventEmitter.mixin(bar);\n * bar.on('foo', function () {\n *     console.log('foo event emitted');\n * });\n * bar.emit('foo');\n */\nvar c=n(2),f={on:function(e,t,n){return o(s(e),\"EventEmitter#on: name is not a string\"),o(a(t),\"EventEmitter#on: fn is not a function\"),n=n||this,this._listeners.push({name:e,fn:t,ctx:n}),this},once:function(e,t,n){function i(){t.apply(n,arguments),r.off(e,i)}n=n||this;var r=this;return this.on(e,i,n),this},off:function(e,t){return this._listeners=e?r(this._listeners,function(n){return n.name!==e||!!a(t)&&n.fn!==t}):[],this},emit:function(e,t){return o(s(e),\"EventEmitter#emit: name is not a string\"),i(this._listeners,function(n){n.name===e&&n.fn.call(n.ctx,t),/^all|\\*$/.test(n.name)&&n.fn.call(n.ctx,e,t)}),this}};f.addEventListener=f.addListener=f.bind=f.on,f.removeEventListener=f.removeListener=f.unbind=f.off,f.dispatchEventListener=f.dispatchListener=f.trigger=f.emit,u.prototype=f,u.mixin=function(e){var t=new u;for(var n in t)e[n]=t[n];return e},u.prototype.mixin=u.mixin,u.VERSION=c.version,e.exports=u},function(e,t){e.exports={name:\"super-event-emitter\",description:\"Super small (2KB) and simple interpretation of popular event management.\",version:\"4.1.6\",license:\"MIT\",author:{name:\"Piotr Kowalski\",email:\"piecioshka@gmail.com\",url:\"https://piecioshka.pl/\"},scripts:{build:\"webpack --profile\",watch:\"webpack -w\",test:\"jasmine JASMINE_CONFIG_PATH=test/unit/jasmine.json\",coverage:\"istanbul cover jasmine JASMINE_CONFIG_PATH=test/unit/jasmine.json\",coveralls:\"npm run coverage && cat ./coverage/lcov.info | coveralls -v\",version:\"npm run build && git add dist/ && auto-changelog -p && git add CHANGELOG.md\"},\"auto-changelog\":{\"commit-limit\":!1,template:\".github/CHANGELOG_TEMPLATE.hbs\"},repository:{type:\"git\",url:\"http://github.com/piecioshka/super-event-emitter.git\"},devDependencies:{\"auto-changelog\":\"^1.4.5\",coveralls:\"^3.0.0\",istanbul:\"^0.4.4\",jasmine:\"^2.4.1\",\"json-loader\":\"^0.5.4\",\"string-replace-loader\":\"^1.0.3\",webpack:\"^3.10.0\"},files:[\"dist\",\"src\",\"index.js\",\"package.json\",\"README.md\"],keywords:[\"super\",\"event\",\"emitter\",\"mixin\",\"on\",\"off\",\"emit\",\"trigger\",\"simple\"],main:\"./dist/super-event-emitter.min.js\"}}])});","import BootstrapState from './states/bootstrap-state';\nimport LoadingState from './states/loading-state';\nimport CollectDragonBallsState from './states/play-states/collect-dragon-balls-state';\nimport GameOverState from './states/static-states/game-over-state';\nimport SelectLanguageState from './states/select-states/select-language-state';\nimport SelectPlayerState from './states/select-states/select-player-state';\nimport FightState from './states/play-states/fight-state';\nimport WinnerState from './states/static-states/winner-state';\nimport CreditsState from './states/static-states/credits-state';\nimport AvoidMonstersState from './states/play-states/avoid-monsters-state';\n\nexport class StateManager {\n    game = null;\n\n    constructor(game) {\n        this.game = game;\n        this.setupStates();\n        this.setupNativeListeners();\n        this.setupListeners();\n    }\n\n    setupStates() {\n        this.game.state.add('Bootstrap', BootstrapState);\n        this.game.state.add('Loading', LoadingState);\n        this.game.state.add('SelectLanguage', SelectLanguageState);\n        this.game.state.add('SelectPlayer', SelectPlayerState);\n        this.game.state.add('CollectDragonBalls', CollectDragonBallsState);\n        this.game.state.add('AvoidMonsters', AvoidMonstersState);\n        this.game.state.add('Fight', FightState);\n        this.game.state.add('Winner', WinnerState);\n        this.game.state.add('GameOver', GameOverState);\n        this.game.state.add('Credits', CreditsState);\n    }\n\n    setupNativeListeners() {\n        this.game.state.onStateChange.add((newState, oldState) => {\n            console.debug('[SM] State: %s', newState);\n        });\n    }\n\n    setupListeners() {\n        this.game.on('all', (...args) => {\n            args.unshift('%c[SM] Event:', 'color: orange');\n            console.log.apply(console, args);\n        });\n\n        this.game.on('game:bootstrap', () => {\n            this.game.state.start('Loading');\n        });\n\n        this.game.on('game:loaded', () => {\n            this.game.state.start('SelectLanguage');\n        });\n\n        let selectPlayer = () => {\n            this.game.state.start('SelectPlayer');\n        };\n\n        this.game.on('game:language-selected', selectPlayer);\n        this.game.on('game:over:try-again', selectPlayer);\n        this.game.on('game:win:try-again', selectPlayer);\n\n        this.game.on('player:select', () => {\n            // this.game.state.start('AvoidMonsters');\n            this.game.state.start('CollectDragonBalls');\n        });\n\n        let startFight = () => {\n            this.game.state.start('Fight');\n        };\n\n        this.game.on('game:collect-failed', startFight);\n        this.game.on('game:next-enemy', startFight);\n\n        this.game.on('enemy:killed', () => {\n            if (this.game.enemies.length === 0) {\n                this.game.emit('game:win');\n            } else {\n                this.game.emit('game:next-enemy');\n            }\n        });\n\n        let win = () => {\n            this.game.state.start('Winner');\n        };\n\n        this.game.on('game:collect-completed', win);\n        this.game.on('game:win', win);\n\n        this.game.on('game:credits', () => {\n            this.game.state.start('Credits');\n        });\n\n        this.game.on('game:over', () => {\n            this.game.state.start('GameOver');\n        });\n    }\n\n    start() {\n        this.game.state.start('Bootstrap');\n    }\n}\n","export default class BootstrapState extends Phaser.State {\n    preload() {\n        this.load.image('pixel-loading', './assets/pixelart/loading.png');\n    }\n\n    create() {\n        this.game.renderer.renderSession.roundPixels = false;\n        this.stage.backgroundColor = '#000';\n        this.game.emit('game:bootstrap');\n    }\n};\n","let utils = require('../helpers/utils');\nlet { addSaiyanLabel } = require('../helpers/message');\nlet { displayGameVersion } = require('../helpers/message');\n\n// Czas opnienia do schowania paska postpu.\nconst DISPLAY_LOADING_DELAY = 500;\n\nexport default class LoadingState extends Phaser.State {\n    preload() {\n        let title = addSaiyanLabel(this.game, this.world.centerX, 150, 'Loading...', [0.5, 0.5]);\n        title.fontSize = 130;\n\n        let pixelLoadingWidth = this.cache.getImage('pixel-loading').width;\n        let progressBar = this.add.sprite(this.world.centerX - (pixelLoadingWidth / 2), 230, 'pixel-loading');\n        this.load.setPreloadSprite(progressBar);\n\n        this.load.path = '';\n\n        this.load.tilemap('map-collecting-1', './assets/data/maps/collecting-1.json', null, Phaser.Tilemap.TILED_JSON);\n        this.load.tilemap('map-collecting-2', './assets/data/maps/collecting-2.json', null, Phaser.Tilemap.TILED_JSON);\n        this.load.tilemap('map-collecting-3', './assets/data/maps/collecting-3.json', null, Phaser.Tilemap.TILED_JSON);\n\n        // ---\n        this.load.path = 'assets/pixelart/';\n\n        this.load.image('pixel', 'pixel.png');\n        this.load.image('logo', 'logo/logo.png');\n        this.load.image('flag-pl', 'flags/flag-pl.png');\n        this.load.image('flag-usa', 'flags/flag-usa.png');\n        this.load.image('cloud', 'cloud.png');\n\n        this.load.image('bg-game-over', 'backgrounds/game-over/game-over.png');\n        this.load.image('bg-win', 'backgrounds/win/win.png');\n        this.load.image('bg-credits', 'backgrounds/credits/credits.png');\n        this.load.image('bg-select-player', 'backgrounds/select-player/select-player.png');\n\n        this.load.image('son-goku-card', 'posters/son-goku/son-goku-card-160x240.png');\n        this.load.image('vegeta-card', 'posters/vegeta/vegeta-card-160x240.png');\n        this.load.image('bubu-card', 'posters/bubu/bubu-card-160x240.png');\n        this.load.image('cell-card', 'posters/cell/cell-card-160x240.png');\n        this.load.image('freeza-card', 'posters/freeza/freeza-card-160x240.png');\n        this.load.image('piccolo-card', 'posters/piccolo/piccolo-card-160x240.png');\n\n        this.load.spritesheet('son-goku-fight', 'fight/son-goku/son-goku-spritesheet.png', 150, 200);\n        this.load.spritesheet('vegeta-fight', 'fight/vegeta/vegeta-spritesheet.png', 150, 200);\n        this.load.spritesheet('bubu-fight', 'fight/bubu/bubu-spritesheet.png', 150, 200);\n        this.load.spritesheet('cell-fight', 'fight/cell/cell-spritesheet.png', 150, 200);\n        this.load.spritesheet('freeza-fight', 'fight/freeza/freeza-spritesheet.png', 150, 200);\n        this.load.spritesheet('piccolo-fight', 'fight/piccolo/piccolo-spritesheet.png', 150, 200);\n\n        this.load.spritesheet('collect-spritesheet', 'sheets/collect-spritesheet.png', 40, 40);\n        this.load.spritesheet('ball-spritesheet', 'sheets/ball-spritesheet.png', 40, 40);\n\n        this.load.image('bar-blank', 'bars/blank.png');\n        this.load.image('bar-exp', 'bars/exp.png');\n        this.load.image('bar-exp-invert', 'bars/exp-invert.png');\n        this.load.image('bar-hp', 'bars/hp.png');\n        this.load.image('bar-hp-invert', 'bars/hp-invert.png');\n\n        this.load.path = '';\n\n        this.load.json('positions-1', './assets/data/balls-positions/positions-1.json');\n        this.load.json('positions-2', './assets/data/balls-positions/positions-2.json');\n        this.load.json('positions-3', './assets/data/balls-positions/positions-3.json');\n\n        this.load.json('locale-en', './assets/locale/en_EN.json');\n        this.load.json('locale-pl', './assets/locale/pl_PL.json');\n\n        this.load.text('font-saiyan-sans', './assets/fonts/Saiyan-Sans.ttf');\n    }\n\n    create() {\n        // Opnienie, aby wywietli przez chwilk cay progressBar.\n        utils.timeout(this, DISPLAY_LOADING_DELAY, () => {\n            this.game.emit('game:loaded')\n        });\n\n        displayGameVersion(this.game);\n    }\n};\n","const COLLECT = require('../../constants/collect');\nlet utils = require('../../helpers/utils');\n\nlet { displayFullscreenMessage, addSaiyanLabel } = require('../../helpers/message');\n\nexport default class CollectDragonBallsState extends Phaser.State {\n    layer = null;\n    emitter = null;\n\n    create() {\n        let random = utils.random(1, 3);\n\n        this._setupWorld(random);\n        this._setupBalls(random);\n        this._setupSprite(10, 60, this.game.player);\n        this._setupParticles();\n\n        this._setupTimer();\n\n        displayFullscreenMessage(this.game, this.game.locale.COLLECT_DRAGON_BALLS);\n    }\n\n    _setupParticles() {\n        this.emitter = this.add.emitter();\n        this.emitter.makeParticles('pixel');\n        this.emitter.setXSpeed(-150, 150);\n        this.emitter.gravity = 0;\n    }\n\n    _fireParticles(x, y) {\n        this.emitter.x = x;\n        this.emitter.y = y;\n        this.emitter.start(true, 600, null, 15);\n    }\n\n    _setupWorld(random) {\n        this.physics.startSystem(Phaser.Physics.ARCADE);\n\n        let map = this.add.tilemap(`map-collecting-${random}`);\n        map.addTilesetImage('collect-spritesheet');\n        map.setCollision([1, 3]);\n\n        this.layer = map.createLayer('Tile Layer 1');\n        this.layer.resizeWorld();\n    }\n\n    _setupSprite(x, y, character, anchor = [0.5, 0.5]) {\n        character.createSprite(this, x, y, `${character.id}-fight`);\n\n        let $sprite = character.getSprite();\n        $sprite.anchor.setTo(...anchor);\n\n        // Tutaj tworzymy ciao dla naszej postaci.\n        this.physics.arcade.enable($sprite);\n\n        $sprite.body.collideWorldBounds = true;\n\n        let width = $sprite.width * 0.8;\n        let height = $sprite.height * 0.4;\n        let positionX = $sprite.width * 0.1;\n        let positionY = $sprite.height * 0.6;\n        $sprite.body.setSize(width, height, positionX, positionY);\n\n        $sprite.scale.setTo(0.3, 0.3);\n\n        $sprite.animations.add('standing', [0, 1, 2], 4, true).play();\n    }\n\n    _setupBalls(random) {\n        let balls = this.game.balls = this.add.group();\n        balls.enableBody = true;\n        this.physics.arcade.enable(balls);\n\n        let places = this.cache.getJSON(`positions-${random}`);\n        places.forEach(([x, y]) => {\n            let $ball = this.add.tileSprite(x * 40, y * 40, 40, 40, 'ball-spritesheet');\n            $ball.animations.add('default', [0, 1, 2, 3], 4, true).play();\n            balls.add($ball);\n        });\n    }\n\n    _setupTimer() {\n        let limit = COLLECT.MAPS_TIME_LIMIT;\n        let ending = parseInt(Math.log2(limit));\n        let clock = this.game.time.create();\n\n        let $message = addSaiyanLabel(this.game, 10, 0, `${this.game.locale.TIME}: ${limit}`);\n        $message.fontSize = 35;\n\n        clock.repeat(Phaser.Timer.SECOND, limit, () => {\n            let remain = limit - parseInt(clock.seconds);\n            $message.setText(`${this.game.locale.TIME}: ${remain}`);\n\n            if (remain === ending) {\n                $message.anchor.setTo(0.5, 0.5);\n                $message.x = this.game.width / 2;\n                $message.y = this.game.height / 2;\n                $message.fill = '#f00';\n                $message.fontSize = 100;\n            }\n        }, this);\n\n        clock.onComplete.add(() => {\n            this.game.emit('game:collect-failed');\n        });\n\n        clock.start();\n    }\n\n    update() {\n        this._handleCollision();\n        this._handleKeyboard();\n    }\n\n    _handleCollision() {\n        let $player = this.game.player.getSprite();\n\n        this.physics.arcade.collide($player, this.layer);\n        this.physics.arcade.collide($player, this.game.balls, this._handleCollectedBall.bind(this));\n    }\n\n    _handleCollectedBall(player, $ball) {\n        this._fireParticles($ball.x + $ball.width / 2, $ball.y + $ball.height / 2);\n\n        // this.game.emit('ball:collected', { player, ball });\n        $ball.destroy();\n\n        if (this.game.balls.length === 0) {\n            this.game.emit('game:collect-completed');\n        }\n    }\n\n    _handleKeyboard() {\n        let $player = this.game.player.getSprite();\n        let keyboard = this.input.keyboard;\n\n        // Resetujemy, aby velocity (prdko) cigle nie rosa.\n        $player.body.velocity.x = $player.body.velocity.y = 0;\n\n        if (keyboard.isDown(Phaser.Keyboard.LEFT)) {\n            $player.body.velocity.x -= COLLECT.PLAYER_SPEED;\n        } else if (keyboard.isDown(Phaser.Keyboard.RIGHT)) {\n            $player.body.velocity.x += COLLECT.PLAYER_SPEED;\n        }\n\n        if (keyboard.isDown(Phaser.Keyboard.UP)) {\n            $player.body.velocity.y -= COLLECT.PLAYER_SPEED;\n        } else if (keyboard.isDown(Phaser.Keyboard.DOWN)) {\n            $player.body.velocity.y += COLLECT.PLAYER_SPEED;\n        }\n    }\n\n    render() {\n        let $player = this.game.player.getSprite();\n        // this.game.debug.bodyInfo($player, 25, 25);\n        // this.game.debug.body($player);\n    }\n}\n","'use strict';\n\nmodule.exports = {\n    PLAYER_SPEED: 300,\n    MAPS_TIME_LIMIT: 5\n};\n","let { addSaiyanLabel, addRepeatLink } = require('../../helpers/message');\n\nexport default class GameOverState extends Phaser.State {\n    create() {\n        this.add.image(0, 0, 'bg-game-over');\n\n        let $title = addSaiyanLabel(this.game, this.game.world.centerX, 50, 'Game Over', [0.5, 0]);\n        $title.fontSize = 130;\n\n        let $repeat = addRepeatLink(this.game);\n        $repeat.events.onInputDown.add(this._tryAgain, this);\n\n        this._setupKeyboard();\n    }\n\n    _setupKeyboard() {\n        let enter = this.input.keyboard.addKey(Phaser.Keyboard.ENTER);\n\n        // Wstrzymujemy propagacj zdarze w oknie przegldarki.\n        this.input.keyboard.addKeyCapture([\n            Phaser.Keyboard.ENTER\n        ]);\n\n        enter.onDown.add(() => this._tryAgain());\n    }\n\n    _tryAgain() {\n        this.game.emit('game:over:try-again', { enemy: this.game.enemy });\n    }\n}\n","let isObject = require('lodash.isobject');\nlet assert = require('assert');\nlet utils = require('../../helpers/utils');\nlet { displayFullscreenMessage } = require('../../helpers/message');\n\nexport default class SelectLanguageState extends Phaser.State {\n    plCard = null;\n    enCard = null;\n    onEnter = null;\n\n    create() {\n        this.enCard = this.add.button(150, 150, 'flag-usa', this._chooseEnglish, this);\n        this.enCard.onInputOver.add(this._selectEnglish, this);\n\n        this.plCard = this.add.button(450, 150, 'flag-pl', this._choosePolish, this);\n        this.plCard.onInputOver.add(this._selectPolish, this);\n\n        this._setupKeyboard();\n        // Domylnie wybieramy jzyk angielski.\n        this._selectEnglish();\n    }\n\n    _choosePolish() {\n        this._chooseLanguage('locale-pl');\n    }\n\n    _chooseEnglish() {\n        this._chooseLanguage('locale-en');\n    }\n\n    _chooseLanguage(locale) {\n        if (this.game.locale) {\n            // Jeli wybralimy ju jzyk, to ignorujemy kolejne wybory.\n            return;\n        }\n\n        this.game.locale = this.cache.getJSON(locale);\n\n        assert(isObject(this.game.locale));\n\n        this.game.emit('locale:select', { locale: locale });\n\n        displayFullscreenMessage(this.game, this.game.locale.CONTROLS_INFO);\n\n        utils.timeout(this, Phaser.Timer.SECOND * 2, () => {\n            this.game.emit('game:language-selected');\n        });\n    }\n\n    _setupKeyboard() {\n        let left = this.input.keyboard.addKey(Phaser.Keyboard.LEFT);\n        let right = this.input.keyboard.addKey(Phaser.Keyboard.RIGHT);\n        let enter = this.input.keyboard.addKey(Phaser.Keyboard.ENTER);\n\n        // Wstrzymujemy propagacj zdarze w oknie przegldarki.\n        this.input.keyboard.addKeyCapture([\n            Phaser.Keyboard.LEFT,\n            Phaser.Keyboard.RIGHT,\n            Phaser.Keyboard.ENTER\n        ]);\n\n        left.onDown.add(() => this._selectEnglish());\n        right.onDown.add(() => this._selectPolish());\n        enter.onDown.addOnce(() => this.onEnter());\n    }\n\n    _selectPolish() {\n        this.plCard.alpha = 1;\n        this.enCard.alpha = 0.5;\n        this.onEnter = this._choosePolish;\n    }\n\n    _selectEnglish() {\n        this.plCard.alpha = 0.5;\n        this.enCard.alpha = 1;\n        this.onEnter = this._chooseEnglish;\n    }\n}\n","/**\n * lodash 3.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","import Player from '../../models/player';\n\nimport SonGoku from '../../models/species/saiyans/son-goku';\nimport Vegeta from '../../models/species/saiyans/vegeta';\n\nimport Piccolo from '../../models/species/monsters/piccolo';\nimport Freeza from '../../models/species/monsters/freeza';\nimport Cell from '../../models/species/monsters/cell';\nimport Bubu from '../../models/species/monsters/bubu';\n\nimport { addSaiyanLabel } from '../../helpers/message';\n\nexport default class SelectPlayerState extends Phaser.State {\n    gokuCard = null;\n    vegetaCard = null;\n\n    cardsIndex = null;\n    cards = null;\n    clouds = null;\n\n    create() {\n        this.cardsIndex = 0;\n        this.cards = [];\n        this.game.enemies = [Freeza, Cell, Bubu, Piccolo];\n\n        this.add.image(0, 0, 'bg-select-player');\n\n        this.clouds = this.add.group();\n        this.clouds.create(-50, 30, 'cloud');\n        this.clouds.create(260, 10, 'cloud');\n        this.clouds.create(480, 20, 'cloud');\n\n        this.gokuCard = this.add.button(200, 100, 'son-goku-card', () => this._chooseCharacter(SonGoku));\n        this.gokuCard.onInputOver.add(this._selectSonGoku, this);\n        this.cards.push(this.gokuCard);\n\n        addSaiyanLabel(this.game, 215, 350, 'Son Gok').fontSize = 30;\n\n        this.vegetaCard = this.add.button(450, 100, 'vegeta-card', () => this._chooseCharacter(Vegeta));\n        this.vegetaCard.onInputOver.add(this._selectVegeta, this);\n        this.cards.push(this.vegetaCard);\n\n        addSaiyanLabel(this.game, 485, 350, 'Vegeta').fontSize = 30;\n\n        this._setupKeyboard();\n        // Domylnie wybieramy Son Goku.\n        this._selectSonGoku();\n    }\n\n    _chooseCharacter(typeClass) {\n        // Wspdzielimy obiekt playera midzy stanami w grze.\n        this.game.player = new Player();\n        this.game.player.setPersonality(typeClass);\n\n        this.game.emit('player:select', { player: this.game.player });\n    }\n\n    _setupKeyboard() {\n        let left = this.input.keyboard.addKey(Phaser.Keyboard.LEFT);\n        let right = this.input.keyboard.addKey(Phaser.Keyboard.RIGHT);\n\n        // Wstrzymujemy propagacj zdarze w oknie przegldarki.\n        this.input.keyboard.addKeyCapture([\n            Phaser.Keyboard.LEFT,\n            Phaser.Keyboard.RIGHT\n        ]);\n\n        left.onDown.add(() => this._prevCard());\n        right.onDown.add(() => this._nextCard());\n    }\n\n    update() {\n        this._handleKeyboard();\n\n        this.clouds.children.forEach((item, index) => {\n            item.position.x += (Math.log(index + 2) / 5);\n\n            if (item.position.x > this.game.world.width) {\n                item.position.x = -1 * item.width;\n            }\n        }, this);\n    }\n\n    _handleKeyboard() {\n        let keyboard = this.input.keyboard;\n\n        if (keyboard.isDown(Phaser.Keyboard.ENTER)) {\n            this.cards[this.cardsIndex].onInputUp.dispatch();\n        }\n    }\n\n    _prevCard() {\n        this.cardsIndex--;\n\n        if (this.cardsIndex < 0) {\n            this.cardsIndex = 0;\n        }\n\n        this.cards[this.cardsIndex].onInputOver.dispatch();\n    }\n\n    _nextCard() {\n        this.cardsIndex++;\n\n        if (this.cardsIndex >= this.cards.length) {\n            this.cardsIndex = this.cards.length - 1;\n        }\n\n        this.cards[this.cardsIndex].onInputOver.dispatch();\n    }\n\n    _selectSonGoku() {\n        this.gokuCard.alpha = 1;\n        this.vegetaCard.alpha = 0.5;\n    }\n\n    _selectVegeta() {\n        this.gokuCard.alpha = 0.5;\n        this.vegetaCard.alpha = 1;\n    }\n}\n","import Character from './character';\n\nexport default class Player extends Character {\n\n};\n","'use strict';\n\nmodule.exports = {\n    // Liczba y.\n    up: 0,\n\n    // Procent ycia.\n    hp: 100,\n\n    // Liczba dowiadczenia.\n    exp: 0,\n\n    // Poziom. Max = 100.\n    lvl: 1\n};\n","import SpeciesModel from '../../species-model';\n\nexport default class SonGoku extends SpeciesModel {\n    constructor(settings = {}) {\n        settings.title = 'Son Gok';\n        super(settings);\n    }\n}\n","import SpeciesModel from '../../species-model';\n\nexport default class Vegeta extends SpeciesModel {\n    constructor(settings = {}) {\n        settings.title = 'Vegeta';\n        super(settings);\n    }\n}\n","import SpeciesModel from '../../species-model';\n\nexport default class Piccolo extends SpeciesModel {\n    constructor(settings = {}) {\n        settings.title = 'Piccolo';\n        super(settings);\n    }\n}\n","import SpeciesModel from '../../species-model';\n\nexport default class Freeza extends SpeciesModel {\n    constructor(settings = {}) {\n        settings.title = 'Freeza';\n        super(settings);\n    }\n}\n","import SpeciesModel from '../../species-model';\n\nexport default class Cell extends SpeciesModel {\n    constructor(settings = {}) {\n        settings.title = 'Cell';\n        super(settings);\n    }\n}\n","import SpeciesModel from '../../species-model';\n\nexport default class Bubu extends SpeciesModel {\n    constructor(settings = {}) {\n        settings.title = 'Bubu';\n        super(settings);\n    }\n}\n","const FIGHT = require('../../constants/fight');\n\nimport ArtificialIntelligence from '../../helpers/artificial-intelligence';\nimport Enemy from '../../models/enemy';\n\nlet assert = require('assert');\nlet isString = require('lodash.isstring');\nlet utils = require('../../helpers/utils');\nlet { displaySingleLineMessage } = require('../../helpers/message');\nlet OptionsEnemyMixin = require('../mixins/options-enemy-mixin');\nlet OptionsPlayerMixin = require('../mixins/options-player-mixin');\n\nfunction defineAnimations(character, revertDefaultSize) {\n    let $sprite = character.getSprite();\n    let width = 150;\n    let height = 200;\n\n    function resizeMaximum() {\n        $sprite.body.setSize(width, height, 0, 0);\n    }\n\n    $sprite.animations.add('standing', [0, 1, 2], 4, true);\n\n    let boxing = $sprite.animations.add('boxing', [3, 4], 8, false);\n    boxing.onStart.add(resizeMaximum);\n    boxing.onComplete.add(revertDefaultSize);\n    boxing.onComplete.add(() => {\n        $sprite.play('standing');\n    });\n\n    let kicking = $sprite.animations.add('kicking', [6, 7], 8, false);\n    kicking.onStart.add(resizeMaximum);\n    kicking.onComplete.add(revertDefaultSize);\n    kicking.onComplete.add(() => {\n        $sprite.play('standing');\n    });\n\n    $sprite.animations.add('win', [9, 10, 11], 4, true);\n\n    let died = $sprite.animations.add('died', [12, 13, 14], 4, true);\n    died.onStart.add(() => {\n        $sprite.angle = -90;\n    });\n}\n\nfunction resetCharacterVelocity($sprite) {\n    $sprite.body.velocity.x = 0;\n    $sprite.body.velocity.y += FIGHT.FALL_SPEED;\n}\n\nexport default class FightState extends Phaser.State {\n    options = {\n        player: {\n            hp: null,\n            exp: null,\n            lvl: null\n        },\n        enemy: {\n            hp: null,\n            exp: null,\n            lvl: null\n        }\n    };\n\n    displayLogo() {\n        this.add.image((this.game.width / 2) - (this.cache.getImage('logo').width / 2), 5, 'logo');\n    }\n\n    _setupWorld() {\n        this.physics.startSystem(Phaser.Physics.ARCADE);\n        this.physics.arcade.gravity.setTo(0, 1);\n        this.world.setBounds(0, 0, this.game.width, this.game.height - FIGHT.BOTTOM_MARGIN);\n    }\n\n    /**\n     * @param {Character} character\n     * @param {string} orientation [left, right]\n     * @access protected\n     */\n    _getOrientationResetSize(character, orientation) {\n        let $sprite = character.getSprite();\n        let width = 150;\n        let height = 200;\n\n        if (orientation === $sprite.orientation) {\n            // Nie zmieniamy orientacji na ju wybran.\n            return;\n        }\n\n        $sprite.orientation = orientation;\n\n        return () => {\n            switch (orientation) {\n                case 'left':\n                    $sprite.body.setSize((width * 2) / 3, height, 0, 0);\n                    break;\n\n                case 'right':\n                    $sprite.body.setSize((width * 2) / 3, height, width / 3, 0);\n                    break;\n\n                default:\n                // no default\n            }\n        };\n    }\n\n    _addAvatar(x, y, key) {\n        let avatar = this.add.image(x, y, key);\n\n        avatar.width = FIGHT.CHARACTER_AVATAR_WIDTH;\n        avatar.height = FIGHT.CHARACTER_AVATAR_HEIGHT;\n    }\n\n    _addBar(x, y, key, anchor = [0, 0]) {\n        let blank = this.add.image(x, y, 'bar-blank');\n        let color = this.add.image(x, y, key);\n\n        blank.anchor.setTo(...anchor);\n        color.anchor.setTo(...anchor);\n\n        return { blank, color };\n    }\n\n    _setupSprite(x, y, character, anchor = [0, 1]) {\n        character.createSprite(this, x, y, `${character.id}-fight`);\n\n        let $sprite = character.getSprite();\n        $sprite.anchor.setTo(...anchor);\n\n        // Tutaj tworzymy ciao dla naszej postaci.\n        this.physics.arcade.enable($sprite);\n\n        $sprite.body.bounce.setTo(0.9, 0.3);\n        $sprite.body.collideWorldBounds = true;\n\n        this._setupMoves(character);\n    }\n\n    _setupMoves(character) {\n        let $sprite = character.getSprite();\n\n        $sprite.events.onLeft = new Phaser.Signal();\n        $sprite.events.onLeft.add(() => {\n            $sprite.body.velocity.x -= FIGHT.HORIZONTAL_SPEED;\n        });\n\n        $sprite.events.onRight = new Phaser.Signal();\n        $sprite.events.onRight.add(() => {\n            $sprite.body.velocity.x += FIGHT.HORIZONTAL_SPEED;\n        });\n\n        $sprite.events.onJumping = new Phaser.Signal();\n        $sprite.events.onJumping.add(() => {\n            if (!$sprite.body.onFloor()) {\n                return;\n            }\n\n            $sprite.body.velocity.y -= FIGHT.JUMP;\n        });\n\n        $sprite.events.onKicking = new Phaser.Signal();\n        $sprite.events.onKicking.add(() => {\n            $sprite.play('kicking');\n        });\n\n        $sprite.events.onBoxing = new Phaser.Signal();\n        $sprite.events.onBoxing.add(() => {\n            $sprite.play('boxing');\n        });\n        $sprite.events.onDied = new Phaser.Signal();\n    }\n\n    _updateOptionsLvL(character) {\n        this.options[character].lvl.setText(`${this.game[character].lvl} ${this.game.locale.FIGHT_STATE_LEVEL_SHORT}`);\n    }\n\n    _setupKeyboard() {\n        let $player = this.game.player.getSprite();\n\n        let c = this.input.keyboard.addKey(Phaser.Keyboard.C);\n        let x = this.input.keyboard.addKey(Phaser.Keyboard.X);\n        let up = this.input.keyboard.addKey(Phaser.Keyboard.UP);\n        let space = this.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\n\n        // Wstrzymujemy propagacj zdarze w oknie przegldarki.\n        this.input.keyboard.addKeyCapture([\n            Phaser.Keyboard.C,\n            Phaser.Keyboard.X,\n            Phaser.Keyboard.UP,\n            Phaser.Keyboard.SPACEBAR\n        ]);\n\n        c.onDown.add(() => $player.events.onKicking.dispatch());\n        x.onDown.add(() => $player.events.onBoxing.dispatch());\n        up.onDown.add(() => $player.events.onJumping.dispatch());\n        space.onDown.add(() => $player.events.onJumping.dispatch());\n    }\n\n    _setupEnemy() {\n        // Wspdzielimy obiekt wroga midzy stana w grze.\n        this.game.enemy = new Enemy();\n\n        // Pobieramy pierwszego wroga. Kade zwycistwo eliminuje pierwszego z listy.\n        this.game.enemy.setPersonality(this.game.enemies[0]);\n    }\n\n    create() {\n        Object.assign(this, OptionsEnemyMixin, OptionsPlayerMixin);\n\n        this.add.image(0, 0, 'bg-select-player');\n\n        this._setupWorld();\n        this._setupEnemy();\n\n        this._setupSprite(150, 360, this.game.player);\n        this._setupSprite(650, 360, this.game.enemy, [1, 1]);\n\n        this._setupFightersActions();\n\n        this._setupPlayerOptions();\n        this._setupEnemyOptions();\n\n        this._setupFight();\n        this._setupKeyboard();\n\n        this.displayLogo();\n        displaySingleLineMessage(this.game, `${this.game.locale.FIGHT_STATE_WELCOME}`);\n    }\n\n    _setupFightersActions() {\n        let playerResetSize = this._getOrientationResetSize(this.game.player, 'left');\n        defineAnimations(this.game.player, playerResetSize);\n        playerResetSize();\n        this.game.player.getSprite().play('standing');\n\n        let enemyResetSize = this._getOrientationResetSize(this.game.enemy, 'right');\n        defineAnimations(this.game.enemy, enemyResetSize);\n        enemyResetSize();\n        this.game.enemy.getSprite().play('standing');\n    }\n\n    update() {\n        let $enemy = this.game.enemy.getSprite();\n        let $player = this.game.player.getSprite();\n        this.physics.arcade.collide($enemy, $player);\n        resetCharacterVelocity($enemy);\n        resetCharacterVelocity($player);\n        this._handleKeyboard();\n    }\n\n    _setupFight() {\n        let context = this;\n        let $player = this.game.player.getSprite();\n        let $enemy = this.game.enemy.getSprite();\n\n        function isCollision() {\n            return context.physics.arcade.overlap($enemy, $player);\n        }\n\n        function handlePlayerBlow(points) {\n            if (isCollision()) {\n                context._addPlayerEXP(points * 1.75);\n                context._removeEnemyHP(points);\n\n                $enemy.body.velocity.x += FIGHT.HORIZONTAL_SPEED * 4;\n            }\n        }\n\n        $player.events.onKicking.add(() => handlePlayerBlow(FIGHT.KICKING_POINTS));\n        $player.events.onBoxing.add(() => handlePlayerBlow(FIGHT.BOXING_POINTS));\n        $player.events.onDied.add(() => this._finishFight('died', 'win'));\n\n        function handleEnemyBlow(points) {\n            if (isCollision()) {\n                context._addEnemyEXP(points);\n                context._removePlayerHP(points);\n\n                $player.body.velocity.x -= FIGHT.HORIZONTAL_SPEED * 4;\n            }\n        }\n\n        $enemy.events.onKicking.add(() => handleEnemyBlow(FIGHT.KICKING_POINTS));\n        $enemy.events.onBoxing.add(() => handleEnemyBlow(FIGHT.BOXING_POINTS));\n        $enemy.events.onDied.add(() => this._finishFight('win', 'died'));\n\n        ArtificialIntelligence.setup(this, $enemy);\n    }\n\n    _getLocaleStatus(playerState) {\n        assert(isString(playerState));\n        let status = playerState.toLowerCase();\n\n        let strategies = new Map();\n        strategies.set('win', this.game.locale.FIGHT_STATE_PLAYER_WIN);\n        strategies.set('died', this.game.locale.FIGHT_STATE_PLAYER_DIED);\n\n        let locale = strategies.get(status);\n        assert(isString(locale));\n\n        return locale;\n    }\n\n    _finishFight(playerState, enemyState) {\n        let player = this.game.player;\n        let $player = player.getSprite();\n        let enemy = this.game.enemy;\n        let $enemy = enemy.getSprite();\n\n        let time = Phaser.Timer.SECOND * 4;\n        let label = `${player.title} ${this._getLocaleStatus(playerState)}`;\n        displaySingleLineMessage(this.game, label);\n\n        // Wyczamy wsparcie klawiatury w grze.\n        this.input.keyboard.enabled = false;\n\n        // Sprowadzamy postacie na ziemie.\n        $player.body.velocity.setTo(0, 0);\n        $enemy.body.velocity.setTo(0, 0);\n\n        // Wczamy animacje: zwycistwa i poraki.\n        $player.play(playerState);\n        $enemy.play(enemyState);\n\n        // Umiercam obu, aby adne animacje nie byy wicej wykonywane.\n        // Nie uywamy .kill() bo wtedy nie wykona si ost. animacja\n        // (zwycistwa albo poraki).\n        $player.alive = false;\n        $enemy.alive = false;\n\n        utils.timeout(this, time, () => {\n            // Przywracamy wsparcie klawiatury w grze.\n            this.input.keyboard.enabled = true;\n\n            if (playerState === 'died') {\n                this.game.emit('game:over', { enemy: this.game.enemy });\n            } else {\n                // Usuwamy pierwszego, pokonanego wroga.\n                this.game.enemies.shift();\n                this.game.emit('enemy:killed', { enemy: this.game.enemy });\n            }\n        });\n    }\n\n    _handleKeyboard() {\n        let $player = this.game.player.getSprite();\n        let keyboard = this.input.keyboard;\n\n        if (keyboard.isDown(Phaser.Keyboard.LEFT)) {\n            $player.events.onLeft.dispatch();\n        } else if (keyboard.isDown(Phaser.Keyboard.RIGHT)) {\n            $player.events.onRight.dispatch();\n        }\n    }\n\n    render() {\n        let $player = this.game.player.getSprite();\n        // this.game.debug.bodyInfo($player, 25, 25);\n        // this.game.debug.body($player);\n\n        let $enemy = this.game.enemy.getSprite();\n        // this.game.debug.bodyInfo($enemy, 25, 225);\n        this.game.debug.body($enemy);\n    }\n}\n","let utils = require('../helpers/utils');\n\nfunction setup(state, $sprite) {\n    function walkingLeft() {\n        utils.timesRandomAsync(state, 10, Phaser.Timer.SECOND / 20, () => {\n            $sprite.events.onLeft.dispatch();\n        });\n    }\n\n    function walkingRight() {\n        utils.timesRandomAsync(state, 10, Phaser.Timer.SECOND / 20, () => {\n            $sprite.events.onRight.dispatch();\n        });\n    }\n\n    function boxing() {\n        utils.timesRandomAsync(state, 5, Phaser.Timer.SECOND / 4, () => {\n            $sprite.events.onBoxing.dispatch();\n        });\n    }\n\n    function kicking() {\n        utils.timesRandomAsync(state, 5, Phaser.Timer.SECOND / 4, () => {\n            $sprite.events.onKicking.dispatch();\n        });\n    }\n\n    function jumping() {\n        $sprite.events.onJumping.dispatch();\n    }\n\n    function start(intervalTime, strategy) {\n        utils.interval(state, intervalTime, () => {\n            if (!$sprite.alive) {\n                return;\n            }\n\n            let random = utils.random(0, strategy.length - 1);\n            let move = strategy[random];\n\n            move();\n        });\n    }\n\n    start(Phaser.Timer.SECOND, [boxing, kicking]);\n    start(Phaser.Timer.SECOND / 3, [walkingLeft, walkingRight]);\n    start(Phaser.Timer.SECOND * 5, [jumping]);\n}\n\nmodule.exports = {\n    setup\n};\n","import Character from './character';\n\nexport default class Enemy extends Character {\n\n};\n","'use strict';\n\nmodule.exports = {\n    BOTTOM_MARGIN: 40,\n    HORIZONTAL_SPEED: 300,\n    JUMP: 500,\n    FALL_SPEED: 12,\n    CHARACTER_AVATAR_WIDTH: 50,\n    CHARACTER_AVATAR_HEIGHT: 70,\n\n    KICKING_POINTS: 5,\n    BOXING_POINTS: 3\n};\n","const PLAYER = require('../../constants/player');\nlet { addSaiyanLabel } = require('../../helpers/message');\n\n// TODO(piecioshka): refactoring, trzeba zczy 2 pliki mixin.\n\nmodule.exports = {\n    _setupEnemyOptions() {\n        let enemy = this.game.enemy;\n\n        addSaiyanLabel(this.game, 755, 18, 'HP');\n        addSaiyanLabel(this.game, 755, 48, 'EXP');\n        this._addAvatar(745, 85, `${enemy.id}-card`);\n\n        this.options.enemy.lvl = addSaiyanLabel(this.game, 733, 81, `${enemy.lvl} ${this.game.locale.FIGHT_STATE_LEVEL_SHORT}`, [1, 0]);\n\n        this.options.enemy.hp = this._addBar(746, 25, 'bar-hp-invert', [1, 0]);\n        this._updateEnemyOptionsHP();\n\n        this.options.enemy.exp = this._addBar(746, 55, 'bar-exp-invert', [1, 0]);\n        this._updateEnemyOptionsEXP();\n    },\n\n    _updateEnemyOptionsHP() {\n        let hp = this.game.enemy.hp;\n        let imageWidth = this.cache.getImage('bar-hp-invert').width;\n        let width = hp * imageWidth / 100;\n\n        this.options.enemy.hp.color.crop(new Phaser.Rectangle(imageWidth - width, 0, width, 16));\n    },\n\n    _updateEnemyOptionsEXP() {\n        let exp = this.game.enemy.exp;\n        let imageWidth = this.cache.getImage('bar-exp').width;\n        let width = exp * imageWidth / 100;\n\n        this.options.enemy.exp.color.crop(new Phaser.Rectangle(imageWidth - width, 0, width, 16));\n    },\n\n    _removeEnemyHP(value) {\n        let enemy = this.game.enemy;\n        let $enemy = enemy.getSprite();\n\n        enemy.hp -= value;\n\n        if (enemy.hp <= 0) {\n            enemy.hp = 0;\n            $enemy.events.onDied.dispatch();\n        }\n\n        this._updateEnemyOptionsHP();\n        this._updateOptionsLvL('enemy');\n    },\n\n    _addEnemyEXP(value) {\n        let enemy = this.game.enemy;\n\n        enemy.exp += value;\n\n        if (enemy.exp >= PLAYER.MAXIMUM_EXPERIENCE) {\n            enemy.exp = 0;\n\n            if (enemy.lvl < PLAYER.MAXIMUM_LEVEL) {\n                enemy.lvl++;\n            }\n        }\n\n        this._updateEnemyOptionsEXP();\n        this._updateOptionsLvL('enemy');\n    }\n};\n","const PLAYER = require('../../constants/player');\nlet { addSaiyanLabel } = require('../../helpers/message');\n\n// TODO(piecioshka): refactoring, trzeba zczy 2 pliki mixin.\n\nmodule.exports = {\n    _setupPlayerOptions() {\n        let player = this.game.player;\n\n        addSaiyanLabel(this.game, 21, 18, 'HP');\n        addSaiyanLabel(this.game, 8, 48, 'EXP');\n        this._addAvatar(6, 85, `${player.id}-card`);\n\n        this.options.player.lvl = addSaiyanLabel(this.game, 63, 81, `${player.lvl} ${this.game.locale.FIGHT_STATE_LEVEL_SHORT}`);\n\n        this.options.player.hp = this._addBar(55, 25, 'bar-hp');\n        this._updatePlayerOptionsHP();\n\n        this.options.player.exp = this._addBar(55, 55, 'bar-exp');\n        this._updatePlayerOptionsEXP();\n    },\n\n    _updatePlayerOptionsHP() {\n        let hp = this.game.player.hp;\n        let imageWidth = this.cache.getImage('bar-hp').width;\n        let width = hp * imageWidth / 100;\n        this.options.player.hp.color.crop(new Phaser.Rectangle(0, 0, width, 16));\n    },\n\n    _updatePlayerOptionsEXP() {\n        let exp = this.game.player.exp;\n        let imageWidth = this.cache.getImage('bar-exp').width;\n        let width = exp * imageWidth / 100;\n        this.options.player.exp.color.crop(new Phaser.Rectangle(0, 0, width, 16));\n    },\n\n    _removePlayerHP(value) {\n        let player = this.game.player;\n        let $player = player.getSprite();\n\n        player.hp -= value;\n\n        if (player.hp <= 0) {\n            player.hp = 0;\n            $player.events.onDied.dispatch();\n        }\n\n        this._updatePlayerOptionsHP();\n        this._updateOptionsLvL('player');\n    },\n\n    _addPlayerEXP(value) {\n        let player = this.game.player;\n\n        player.exp += value;\n\n        if (player.exp >= PLAYER.MAXIMUM_EXPERIENCE) {\n            player.exp = 0;\n\n            if (player.lvl < PLAYER.MAXIMUM_LEVEL) {\n                player.lvl++;\n            }\n        }\n\n        this._updatePlayerOptionsEXP();\n        this._updateOptionsLvL('player');\n    }\n};\n","let { addSaiyanLabel } = require('../../helpers/message');\n\nexport default class WinnerState extends Phaser.State {\n    create() {\n        this.add.image(0, 0, 'bg-win');\n        addSaiyanLabel(this.game, 180, 60, 'Winner!').fontSize = 180;\n\n        setTimeout(() => {\n            this.game.emit('game:credits');\n        }, 2000);\n    }\n}\n","const { addSaiyanLabel, addLabel, addRepeatLink } = require('../../helpers/message');\n\nconst pkg = require('../../../../package.json');\n\nexport default class CreditsState extends Phaser.State {\n    create() {\n        this.add.image(0, 0, 'bg-credits');\n\n        addSaiyanLabel(this.game, this.game.world.centerX, 20, 'Credits', [0.5, 0]).fontSize = 60;\n\n        addLabel(this.game, this.game.world.centerX, 110, 'Developed by', [0.5, 0]).fontSize = 20;\n        addLabel(this.game, this.game.world.centerX, 140, 'Piotr Kowalski', [0.5, 0]).fontSize = 30;\n        addLabel(this.game, this.game.world.centerX, 180, '@piecioshka', [0.5, 0]).fontSize = 30;\n\n        const $version = addLabel(this.game, this.game.world.centerX, 260, `v${pkg.version}`, [0.5, 0]);\n        $version.setShadow(0, 0, null, 0);\n        $version.fill = 'rgba(0,0,0,1)';\n        $version.fontSize = 20;\n\n        const $repeat = addRepeatLink(this.game);\n        $repeat.events.onInputDown.add(this._tryAgain, this);\n\n        this._setupKeyboard();\n    }\n\n    _setupKeyboard() {\n        const enter = this.input.keyboard.addKey(Phaser.Keyboard.ENTER);\n\n        // Wstrzymujemy propagacj zdarze w oknie przegldarki.\n        this.input.keyboard.addKeyCapture([\n            Phaser.Keyboard.ENTER\n        ]);\n\n        enter.onDown.add(() => this._tryAgain());\n    }\n\n    _tryAgain() {\n        this.game.emit('game:over:try-again', { enemy: this.game.enemy });\n    }\n}\n","export default class AvoidMonstersState extends Phaser.State {\n    create() {\n\n    }\n}\n","/**\n * @typedef {Function} ga\n * @description Google Analytics function form {@link `http://www.google-analytics.com/analytics.js`}.\n */\n\n// W przypadku, kiedy nie istnieje globalna funkcja tworzona w Google Analytics\nif (typeof ga !== 'function') {\n    window.ga = (...args) => {\n        args.unshift('[Google Analytics]');\n        // console.warn.apply(console, args);\n    }\n}\n\nexport class StatisticsManager {\n    game = null;\n\n    constructor(game) {\n        this.game = game;\n    }\n\n    start() {\n        this.game.on('player:choose', ({ character }) => {\n            ga('send', 'event', 'game', `choose-${character.id}`);\n        });\n\n        this.game.on('locale:select', ({ locale }) => {\n            ga('send', 'event', 'game', locale);\n        });\n\n        this.game.on('game:over', () => {\n            ga('send', 'event', 'game', 'over');\n        });\n\n        this.game.on('game:over:try-again', () => {\n            ga('send', 'event', 'game', 'try-again');\n        });\n\n        this.game.on('game:win', () => {\n            ga('send', 'event', 'game', 'win');\n        });\n\n        this.game.on('game:win:try-again', () => {\n            ga('send', 'event', 'game', 'win-try-again');\n        });\n    }\n}\n","'use strict';\n\nmodule.exports = {\n    WIDTH: 800,\n    HEIGHT: 400,\n    RENDER_ID: 'game-area',\n};\n"],"sourceRoot":""}