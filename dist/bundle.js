!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";var r="rgb(0,0,0)",i="rgb(255,255,255)",o=n(4),a=n(1);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150,r=function(e,t,n,r,o){var a=e.add.graphics(t,n);return a.beginFill(i,.5),a.drawRect(0,0,r,o),a.endFill(),a}(e,0,e.height/2-n/2,e.width,n);return r.alpha=0,e.time.events.add(Phaser.Timer.SECOND/4,function(){e.add.tween(r).to({alpha:1},Phaser.Timer.SECOND/2,Phaser.Easing.Linear.None,!0)},this),e.time.events.add(t-Phaser.Timer.SECOND/2,function(){e.add.tween(r).to({alpha:0},Phaser.Timer.SECOND/2,Phaser.Easing.Linear.None,!0)},this),r}function u(e,t,n,i){var o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],s=e.add.text(t,n,i);return s.fill="#fff",s.font="Tahoma",s.setShadow(0,0,r,3),(o=s.anchor).setTo.apply(o,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a)),s}function l(e,t,n,r,i){var o=u(e,t,n,r,i);return o.font="Saiyan-Sans",o}function c(e,t){var n=t.text,r=t.lifespan,i=void 0===r?2*Phaser.Timer.SECOND:r,o=t.fontSize,a=void 0===o?40:o,s=t.cb,l=void 0===s?function(){return null}:s,c=u(e,e.width/2,e.height/2,n,[.5,.5]);return c.alpha=0,c.fontSize=a,e.time.events.add(Phaser.Timer.SECOND/4,function(){e.add.tween(c).to({alpha:1},Phaser.Timer.SECOND/4,Phaser.Easing.Linear.None,!0)},this),e.time.events.add(i-Phaser.Timer.SECOND/2,function(){e.add.tween(c).to({alpha:0},Phaser.Timer.SECOND/4,Phaser.Easing.Linear.None,!0)},this),e.time.events.add(i,l,this),c}e.exports={addLabel:u,addSaiyanLabel:l,addRepeatLink:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:333,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[.5,0],s=l(e,t||e.world.centerX,n,"press ENTER to play once again",o);s.anchor.setTo(.5,0),s.fill=i,s.inputEnabled=!0,s.input.useHandCursor=!0;var u=function(e,t){var n=t;return function(){n===i?(e.fill=n=r,e.setShadow(0,0,i,3)):n===r?(e.fill=n=i,e.setShadow(0,0,r,3)):console.warn("ignore toggling")}}(s,i),c=e.state.getCurrentState(),f=Phaser.Timer.SECOND/2;return a.interval(c,f,u),s},displayGameVersion:function(e){var t=e.add.text(5,e.height-20,"v"+o.version);return t.font="Tahoma",t.fontSize="10px",t.fill="#fff",t.setShadow(0,0,r,3),t},displaySingleLineMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*Phaser.Timer.SECOND;return s(e,n),c(e,{text:t,lifespan:n,fontSize:60})},displayFullscreenMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*Phaser.Timer.SECOND;return s(e,n,e.height),c(e,{text:t,lifespan:n,fontSize:40})}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return parseInt(Math.random()*(t-e+1)+e,10)}function i(e,t,n){e.time.events.add(t,n,this)}e.exports={random:r,timesRandomAsync:function(e,t,n,o){var a=0,s=r(1,t-1);!function t(){i(e,n,function(){++a<s&&t(),o()})}()},interval:function(e,t,n){var r=e.time.create();r.repeat(t,1/0,n),r.start()},timeout:i,slug:function(e){return e.toLocaleLowerCase().replace(/Å«/,"u").replace(/\W/gi,"-")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t){var n=t.title;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=n}},function(e,t,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(20),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function c(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=e.exports=m,p=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(p);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(u||!o.isFunction(e))return o.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function m(e,t){e||g(e,!0,t,"==",f.ok)}function b(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),a=v(t);if(i&&!a||!i&&a)return!1;if(i)return e=s.call(e),t=s.call(t),b(e,t,n);var u,l,c=O(e),f=O(t);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),l=c.length-1;l>=0;l--)if(c[l]!==f[l])return!1;for(l=c.length-1;l>=0;l--)if(u=c[l],!b(e[u],t[u],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&g(i,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&o.isError(i),u=!e&&i&&!n;if((s&&a&&_(i,n)||u)&&g(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return d(y(e.actual),128)+" "+e.operator+" "+d(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=h(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=g,f.ok=m,f.equal=function(e,t,n){e!=t&&g(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){b(e,t,!1)||g(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){b(e,t,!0)||g(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){b(e,t,!1)&&g(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){w(!0,e,t,n)},f.doesNotThrow=function(e,t,n){w(!1,e,t,n)},f.ifError=function(e){if(e)throw e};var O=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(5))},function(e){e.exports={private:!0,name:"7balls",version:"1.3.1",author:{name:"Piotr Kowalski",email:"piecioshka@gmail.com",url:"https://piecioshka.pl/"},scripts:{clear:"rm -rf src/public/dist/","clear:all":"rm -rf node_modules/ npm-debug.log && npm run clear",deploy:"gh-pages -d src/public/",watch:"webpack -w",build:"webpack --profile -p",postbuild:"node ./src/tasks/copy-phaser.js",count:"find src -name '*.js' -not -path './node_modules/*' | xargs wc -l | sort -r"},dependencies:{assert:"^1.4.1","gh-pages":"^1.2.0","lodash.isobject":"^3.0.2","lodash.isstring":"^4.0.1",phaser:"^2.6.1","super-event-emitter":"^4.1.4"},devDependencies:{"babel-core":"^6.26.3","babel-loader":"^7.1.5","babel-plugin-transform-object-assign":"^6.8.0","babel-polyfill":"^6.20.0","babel-preset-es2015":"^6.18.0","babel-preset-es2016":"^6.16.0","babel-preset-stage-0":"^6.16.0","imports-loader":"^0.8.0",webpack:"^4.16.2","webpack-cli":"^3.1.0"},repository:{type:"git",url:"https://github.com/piecioshka/7balls"}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(7),a=n(1).slug,s=n(3),u=n(26),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=null,this.nickname=null,this._phaser=null,r(this,u)}return i(e,[{key:"id",get:function(){return s(o(this.title)),a(this.title).toLowerCase()}}]),i(e,[{key:"createSprite",value:function(e,t,n,r){this._phaser=e.add.sprite(t,n,r)}},{key:"getSprite",value:function(){return this._phaser}},{key:"setPersonality",value:function(e){var t=new e;this.title=t.title}},{key:"resetHP",value:function(){this.hp=u.hp}}]),e}();t.default=l},function(e,t){var n="[object String]",r=Object.prototype.toString,i=Array.isArray;e.exports=function(e){return"string"==typeof e||!i(e)&&function(e){return!!e&&"object"==typeof e}(e)&&r.call(e)==n}},function(e,t,n){"use strict";e.exports={MAXIMUM_EXPERIENCE:100,MAXIMUM_LEVEL:100}},function(e,t,n){"use strict";var r=n(10),i=n(12),o=n(42),a=n(43),s=new r.Game(a.WIDTH,a.HEIGHT,Phaser.Canvas,a.RENDER_ID);new i.StateManager(s).start(),new o.StatisticsManager(s).start(),window.game=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.Game=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return r.mixin(a),a.locale=null,a.player=null,a.enemy=null,a.enemies=null,a.balls=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.Game),t}()},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";e.exports=n(1)},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t)}function i(e){return"string"==typeof e}function o(e){return"function"==typeof e}function a(){if(!(this instanceof a))return new a;this._listeners=[]}
/**
 * @author Piotr Kowalski <piecioshka@gmail.com> (https://piecioshka.pl/)
 * @name super-event-emitter
 * @description Super small (2KB) and simple interpretation of popular event management.
 * @version 4.1.6
 * @license MIT
 * @example
 * var bar = {}; // Or any other object.
 * EventEmitter.mixin(bar);
 * bar.on('foo', function () {
 *     console.log('foo event emitted');
 * });
 * bar.emit('foo');
 */var s=n(2),u={on:function(e,t,n){return r(i(e),"EventEmitter#on: name is not a string"),r(o(t),"EventEmitter#on: fn is not a function"),n=n||this,this._listeners.push({name:e,fn:t,ctx:n}),this},once:function(e,t,n){n=n||this;var r=this;return this.on(e,function i(){t.apply(n,arguments),r.off(e,i)},n),this},off:function(e,t){return this._listeners=e?function(e,t){if("filter"in Array.prototype)return e.filter(t);for(var n=[],r=0;r<e.length;r+=1){var i=e[r];t(i)&&n.push(i)}return n}(this._listeners,function(n){return n.name!==e||!!o(t)&&n.fn!==t}):[],this},emit:function(e,t){return r(i(e),"EventEmitter#emit: name is not a string"),function(e,t){if("forEach"in Array.prototype)e.forEach(t);else for(var n=0;n<e.length;n+=1)t(e[n])}(this._listeners,function(n){n.name===e&&n.fn.call(n.ctx,t),/^all|\*$/.test(n.name)&&n.fn.call(n.ctx,e,t)}),this}};u.addEventListener=u.addListener=u.bind=u.on,u.removeEventListener=u.removeListener=u.unbind=u.off,u.dispatchEventListener=u.dispatchListener=u.trigger=u.emit,a.prototype=u,a.mixin=function(e){var t=new a;for(var n in t)e[n]=t[n];return e},a.prototype.mixin=a.mixin,a.VERSION=s.version,e.exports=a},function(e,t){e.exports={name:"super-event-emitter",description:"Super small (2KB) and simple interpretation of popular event management.",version:"4.1.6",license:"MIT",author:{name:"Piotr Kowalski",email:"piecioshka@gmail.com",url:"https://piecioshka.pl/"},scripts:{build:"webpack --profile",watch:"webpack -w",test:"jasmine JASMINE_CONFIG_PATH=test/unit/jasmine.json",coverage:"istanbul cover jasmine JASMINE_CONFIG_PATH=test/unit/jasmine.json",coveralls:"npm run coverage && cat ./coverage/lcov.info | coveralls -v",version:"npm run build && git add dist/ && auto-changelog -p && git add CHANGELOG.md"},"auto-changelog":{"commit-limit":!1,template:".github/CHANGELOG_TEMPLATE.hbs"},repository:{type:"git",url:"http://github.com/piecioshka/super-event-emitter.git"},devDependencies:{"auto-changelog":"^1.4.5",coveralls:"^3.0.0",istanbul:"^0.4.4",jasmine:"^2.4.1","json-loader":"^0.5.4","string-replace-loader":"^1.0.3",webpack:"^3.10.0"},files:["dist","src","index.js","package.json","README.md"],keywords:["super","event","emitter","mixin","on","off","emit","trigger","simple"],main:"./dist/super-event-emitter.min.js"}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(13)),o=d(n(14)),a=d(n(15)),s=d(n(17)),u=d(n(18)),l=d(n(24)),c=d(n(33)),f=d(n(39)),p=d(n(40)),h=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}t.StateManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=null,this.game=t,this.setupStates(),this.setupNativeListeners(),this.setupListeners()}return r(e,[{key:"setupStates",value:function(){this.game.state.add("Bootstrap",i.default),this.game.state.add("Loading",o.default),this.game.state.add("SelectLanguage",u.default),this.game.state.add("SelectPlayer",l.default),this.game.state.add("CollectDragonBalls",a.default),this.game.state.add("AvoidMonsters",h.default),this.game.state.add("Fight",c.default),this.game.state.add("Winner",f.default),this.game.state.add("GameOver",s.default),this.game.state.add("Credits",p.default)}},{key:"setupNativeListeners",value:function(){this.game.state.onStateChange.add(function(e,t){console.debug("[SM] State: %s",e)})}},{key:"setupListeners",value:function(){var e=this;this.game.on("all",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("%c[SM] Event:","color: orange"),console.log.apply(console,t)}),this.game.on("game:bootstrap",function(){e.game.state.start("Loading")}),this.game.on("game:loaded",function(){e.game.state.start("SelectLanguage")});var t=function(){e.game.state.start("SelectPlayer")};this.game.on("game:language-selected",t),this.game.on("game:over:try-again",t),this.game.on("game:win:try-again",t),this.game.on("player:select",function(){e.game.state.start("CollectDragonBalls")});var n=function(){e.game.state.start("Fight")};this.game.on("game:collect-failed",n),this.game.on("game:next-enemy",n),this.game.on("enemy:killed",function(){0===e.game.enemies.length?e.game.emit("game:win"):e.game.emit("game:next-enemy")});var r=function(){e.game.state.start("Winner")};this.game.on("game:collect-completed",r),this.game.on("game:win",r),this.game.on("game:credits",function(){e.game.state.start("Credits")}),this.game.on("game:over",function(){e.game.state.start("GameOver")})}},{key:"start",value:function(){this.game.state.start("Bootstrap")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),r(t,[{key:"preload",value:function(){this.load.image("pixel-loading","./assets/pixelart/loading.png")}},{key:"create",value:function(){this.game.renderer.renderSession.roundPixels=!1,this.stage.backgroundColor="#000",this.game.emit("game:bootstrap")}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(1),o=n(0).addSaiyanLabel,a=n(0).displayGameVersion,s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),r(t,[{key:"preload",value:function(){o(this.game,this.world.centerX,150,"Loading...",[.5,.5]).fontSize=130;var e=this.cache.getImage("pixel-loading").width,t=this.add.sprite(this.world.centerX-e/2,230,"pixel-loading");this.load.setPreloadSprite(t),this.load.path="",this.load.tilemap("map-collecting-1","./assets/data/maps/collecting-1.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("map-collecting-2","./assets/data/maps/collecting-2.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("map-collecting-3","./assets/data/maps/collecting-3.json",null,Phaser.Tilemap.TILED_JSON),this.load.path="assets/pixelart/",this.load.image("pixel","pixel.png"),this.load.image("logo","logo/logo.png"),this.load.image("flag-pl","flags/flag-pl.png"),this.load.image("flag-usa","flags/flag-usa.png"),this.load.image("cloud","cloud.png"),this.load.image("bg-game-over","backgrounds/game-over/game-over.png"),this.load.image("bg-win","backgrounds/win/win.png"),this.load.image("bg-credits","backgrounds/credits/credits.png"),this.load.image("bg-select-player","backgrounds/select-player/select-player.png"),this.load.image("son-goku-card","posters/son-goku/son-goku-card-160x240.png"),this.load.image("vegeta-card","posters/vegeta/vegeta-card-160x240.png"),this.load.image("bubu-card","posters/bubu/bubu-card-160x240.png"),this.load.image("cell-card","posters/cell/cell-card-160x240.png"),this.load.image("freeza-card","posters/freeza/freeza-card-160x240.png"),this.load.image("piccolo-card","posters/piccolo/piccolo-card-160x240.png"),this.load.spritesheet("son-goku-fight","fight/son-goku/son-goku-spritesheet.png",150,200),this.load.spritesheet("vegeta-fight","fight/vegeta/vegeta-spritesheet.png",150,200),this.load.spritesheet("bubu-fight","fight/bubu/bubu-spritesheet.png",150,200),this.load.spritesheet("cell-fight","fight/cell/cell-spritesheet.png",150,200),this.load.spritesheet("freeza-fight","fight/freeza/freeza-spritesheet.png",150,200),this.load.spritesheet("piccolo-fight","fight/piccolo/piccolo-spritesheet.png",150,200),this.load.spritesheet("collect-spritesheet","sheets/collect-spritesheet.png",40,40),this.load.spritesheet("ball-spritesheet","sheets/ball-spritesheet.png",40,40),this.load.image("bar-blank","bars/blank.png"),this.load.image("bar-exp","bars/exp.png"),this.load.image("bar-exp-invert","bars/exp-invert.png"),this.load.image("bar-hp","bars/hp.png"),this.load.image("bar-hp-invert","bars/hp-invert.png"),this.load.path="",this.load.json("positions-1","./assets/data/balls-positions/positions-1.json"),this.load.json("positions-2","./assets/data/balls-positions/positions-2.json"),this.load.json("positions-3","./assets/data/balls-positions/positions-3.json"),this.load.json("locale-en","./assets/locale/en_EN.json"),this.load.json("locale-pl","./assets/locale/pl_PL.json"),this.load.text("font-saiyan-sans","./assets/fonts/Saiyan-Sans.ttf")}},{key:"create",value:function(){var e=this;i.timeout(this,500,function(){e.game.emit("game:loaded")}),a(this.game)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=n(16),s=n(1),u=n(0),l=u.displayFullscreenMessage,c=u.addSaiyanLabel,f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.layer=null,r.emitter=null,o(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),i(t,[{key:"create",value:function(){var e=s.random(1,3);this._setupWorld(e),this._setupBalls(e),this._setupSprite(10,60,this.game.player),this._setupParticles(),this._setupTimer(),l(this.game,this.game.locale.COLLECT_DRAGON_BALLS)}},{key:"_setupParticles",value:function(){this.emitter=this.add.emitter(),this.emitter.makeParticles("pixel"),this.emitter.setXSpeed(-150,150),this.emitter.gravity=0}},{key:"_fireParticles",value:function(e,t){this.emitter.x=e,this.emitter.y=t,this.emitter.start(!0,600,null,15)}},{key:"_setupWorld",value:function(e){this.physics.startSystem(Phaser.Physics.ARCADE);var t=this.add.tilemap("map-collecting-"+e);t.addTilesetImage("collect-spritesheet"),t.setCollision([1,3]),this.layer=t.createLayer("Tile Layer 1"),this.layer.resizeWorld()}},{key:"_setupSprite",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[.5,.5];n.createSprite(this,e,t,n.id+"-fight");var o=n.getSprite();(r=o.anchor).setTo.apply(r,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i)),this.physics.arcade.enable(o),o.body.collideWorldBounds=!0;var a=.8*o.width,s=.4*o.height,u=.1*o.width,l=.6*o.height;o.body.setSize(a,s,u,l),o.scale.setTo(.3,.3),o.animations.add("standing",[0,1,2],4,!0).play()}},{key:"_setupBalls",value:function(e){var t=this,n=this.game.balls=this.add.group();n.enableBody=!0,this.physics.arcade.enable(n),this.cache.getJSON("positions-"+e).forEach(function(e){var i=r(e,2),o=i[0],a=i[1],s=t.add.tileSprite(40*o,40*a,40,40,"ball-spritesheet");s.animations.add("default",[0,1,2,3],4,!0).play(),n.add(s)})}},{key:"_setupTimer",value:function(){var e=this,t=a.MAPS_TIME_LIMIT,n=parseInt(Math.log2(t)),r=this.game.time.create(),i=c(this.game,10,0,this.game.locale.TIME+": "+t);i.fontSize=35,r.repeat(Phaser.Timer.SECOND,t,function(){var o=t-parseInt(r.seconds);i.setText(e.game.locale.TIME+": "+o),o===n&&(i.anchor.setTo(.5,.5),i.x=e.game.width/2,i.y=e.game.height/2,i.fill="#f00",i.fontSize=100)},this),r.onComplete.add(function(){e.game.emit("game:collect-failed")}),r.start()}},{key:"update",value:function(){this._handleCollision(),this._handleKeyboard()}},{key:"_handleCollision",value:function(){var e=this.game.player.getSprite();this.physics.arcade.collide(e,this.layer),this.physics.arcade.collide(e,this.game.balls,this._handleCollectedBall.bind(this))}},{key:"_handleCollectedBall",value:function(e,t){this._fireParticles(t.x+t.width/2,t.y+t.height/2),t.destroy(),0===this.game.balls.length&&this.game.emit("game:collect-completed")}},{key:"_handleKeyboard",value:function(){var e=this.game.player.getSprite(),t=this.input.keyboard;e.body.velocity.x=e.body.velocity.y=0,t.isDown(Phaser.Keyboard.LEFT)?e.body.velocity.x-=a.PLAYER_SPEED:t.isDown(Phaser.Keyboard.RIGHT)&&(e.body.velocity.x+=a.PLAYER_SPEED),t.isDown(Phaser.Keyboard.UP)?e.body.velocity.y-=a.PLAYER_SPEED:t.isDown(Phaser.Keyboard.DOWN)&&(e.body.velocity.y+=a.PLAYER_SPEED)}},{key:"render",value:function(){this.game.player.getSprite()}}]),t}();t.default=f},function(e,t,n){"use strict";e.exports={PLAYER_SPEED:300,MAPS_TIME_LIMIT:5}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(0),o=i.addSaiyanLabel,a=i.addRepeatLink,s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),r(t,[{key:"create",value:function(){this.add.image(0,0,"bg-game-over"),o(this.game,this.game.world.centerX,50,"Game Over",[.5,0]).fontSize=130,a(this.game).events.onInputDown.add(this._tryAgain,this),this._setupKeyboard()}},{key:"_setupKeyboard",value:function(){var e=this,t=this.input.keyboard.addKey(Phaser.Keyboard.ENTER);this.input.keyboard.addKeyCapture([Phaser.Keyboard.ENTER]),t.onDown.add(function(){return e._tryAgain()})}},{key:"_tryAgain",value:function(){this.game.emit("game:over:try-again",{enemy:this.game.enemy})}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=n(19),a=n(3),s=n(1),u=n(0).displayFullscreenMessage,l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.plCard=null,r.enCard=null,r.onEnter=null,i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),r(t,[{key:"create",value:function(){this.enCard=this.add.button(150,150,"flag-usa",this._chooseEnglish,this),this.enCard.onInputOver.add(this._selectEnglish,this),this.plCard=this.add.button(450,150,"flag-pl",this._choosePolish,this),this.plCard.onInputOver.add(this._selectPolish,this),this._setupKeyboard(),this._selectEnglish()}},{key:"_choosePolish",value:function(){this._chooseLanguage("locale-pl")}},{key:"_chooseEnglish",value:function(){this._chooseLanguage("locale-en")}},{key:"_chooseLanguage",value:function(e){var t=this;this.game.locale||(this.game.locale=this.cache.getJSON(e),a(o(this.game.locale)),this.game.emit("locale:select",{locale:e}),u(this.game,this.game.locale.CONTROLS_INFO),s.timeout(this,2*Phaser.Timer.SECOND,function(){t.game.emit("game:language-selected")}))}},{key:"_setupKeyboard",value:function(){var e=this,t=this.input.keyboard.addKey(Phaser.Keyboard.LEFT),n=this.input.keyboard.addKey(Phaser.Keyboard.RIGHT),r=this.input.keyboard.addKey(Phaser.Keyboard.ENTER);this.input.keyboard.addKeyCapture([Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT,Phaser.Keyboard.ENTER]),t.onDown.add(function(){return e._selectEnglish()}),n.onDown.add(function(){return e._selectPolish()}),r.onDown.addOnce(function(){return e.onEnter()})}},{key:"_selectPolish",value:function(){this.plCard.alpha=1,this.enCard.alpha=.5,this.onEnter=this._choosePolish}},{key:"_selectEnglish",value:function(){this.plCard.alpha=.5,this.enCard.alpha=1,this.onEnter=this._chooseEnglish}}]),t}();t.default=l},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<o;u=r[++n])y(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,i){if(b(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return m(i)||(i=c(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var l,_="",P=!1,S=["{","}"];(h(n)&&(P=!0,S=["[","]"]),E(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),O(n)&&(_=" "+f(n)),0!==a.length||P&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=P?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)T(t,String(a))?o.push(p(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}(e,n,r,s,a):a.map(function(t){return p(e,n,r,s,t,P)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,_,S)):S[0]+_+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function y(e){return null===e}function g(e){return"number"==typeof e}function m(e){return"string"==typeof e}function b(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===P(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===P(e)}function O(e){return _(e)&&("[object Error]"===P(e)||e instanceof Error)}function E(e){return"function"==typeof e}function P(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(b(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=d,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=v,t.isObject=_,t.isDate=w,t.isError=O,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(22);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(23),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(5),n(21))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=s(p);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(25)),o=p(n(27)),a=p(n(28)),s=p(n(29)),u=p(n(30)),l=p(n(31)),c=p(n(32)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.gokuCard=null,r.vegetaCard=null,r.cardsIndex=null,r.cards=null,r.clouds=null,h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),r(t,[{key:"create",value:function(){var e=this;this.cardsIndex=0,this.cards=[],this.game.enemies=[u.default,l.default,c.default,s.default],this.add.image(0,0,"bg-select-player"),this.clouds=this.add.group(),this.clouds.create(-50,30,"cloud"),this.clouds.create(260,10,"cloud"),this.clouds.create(480,20,"cloud"),this.gokuCard=this.add.button(200,100,"son-goku-card",function(){return e._chooseCharacter(o.default)}),this.gokuCard.onInputOver.add(this._selectSonGoku,this),this.cards.push(this.gokuCard),(0,f.addSaiyanLabel)(this.game,215,350,"Son GokÅ«").fontSize=30,this.vegetaCard=this.add.button(450,100,"vegeta-card",function(){return e._chooseCharacter(a.default)}),this.vegetaCard.onInputOver.add(this._selectVegeta,this),this.cards.push(this.vegetaCard),(0,f.addSaiyanLabel)(this.game,485,350,"Vegeta").fontSize=30,this._setupKeyboard(),this._selectSonGoku()}},{key:"_chooseCharacter",value:function(e){this.game.player=new i.default,this.game.player.setPersonality(e),this.game.emit("player:select",{player:this.game.player})}},{key:"_setupKeyboard",value:function(){var e=this,t=this.input.keyboard.addKey(Phaser.Keyboard.LEFT),n=this.input.keyboard.addKey(Phaser.Keyboard.RIGHT);this.input.keyboard.addKeyCapture([Phaser.Keyboard.LEFT,Phaser.Keyboard.RIGHT]),t.onDown.add(function(){return e._prevCard()}),n.onDown.add(function(){return e._nextCard()})}},{key:"update",value:function(){var e=this;this._handleKeyboard(),this.clouds.children.forEach(function(t,n){t.position.x+=Math.log(n+2)/5,t.position.x>e.game.world.width&&(t.position.x=-1*t.width)},this)}},{key:"_handleKeyboard",value:function(){this.input.keyboard.isDown(Phaser.Keyboard.ENTER)&&this.cards[this.cardsIndex].onInputUp.dispatch()}},{key:"_prevCard",value:function(){this.cardsIndex--,this.cardsIndex<0&&(this.cardsIndex=0),this.cards[this.cardsIndex].onInputOver.dispatch()}},{key:"_nextCard",value:function(){this.cardsIndex++,this.cardsIndex>=this.cards.length&&(this.cardsIndex=this.cards.length-1),this.cards[this.cardsIndex].onInputOver.dispatch()}},{key:"_selectSonGoku",value:function(){this.gokuCard.alpha=1,this.vegetaCard.alpha=.5}},{key:"_selectVegeta",value:function(){this.gokuCard.alpha=.5,this.vegetaCard.alpha=1}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(6));var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=i},function(e,t,n){"use strict";e.exports={up:0,hp:100,exp:0,lvl:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.title="Son GokÅ«",function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.title="Vegeta",function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.title="Piccolo",function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.title="Freeza",function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.title="Cell",function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.title="Bubu",function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(34)),a=s(n(35));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=n(36),f=n(3),p=n(7),h=n(1),d=n(0).displaySingleLineMessage,y=n(37),g=n(38);function m(e,t){var n=e.getSprite(),r=150,i=200;function o(){n.body.setSize(r,i,0,0)}n.animations.add("standing",[0,1,2],4,!0);var a=n.animations.add("boxing",[3,4],8,!1);a.onStart.add(o),a.onComplete.add(t),a.onComplete.add(function(){n.play("standing")});var s=n.animations.add("kicking",[6,7],8,!1);s.onStart.add(o),s.onComplete.add(t),s.onComplete.add(function(){n.play("standing")}),n.animations.add("win",[9,10,11],4,!0),n.animations.add("died",[12,13,14],4,!0).onStart.add(function(){n.angle=-90})}function b(e){e.body.velocity.x=0,e.body.velocity.y+=c.FALL_SPEED}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.options={player:{hp:null,exp:null,lvl:null},enemy:{hp:null,exp:null,lvl:null}},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),i(t,[{key:"displayLogo",value:function(){this.add.image(this.game.width/2-this.cache.getImage("logo").width/2,5,"logo")}},{key:"_setupWorld",value:function(){this.physics.startSystem(Phaser.Physics.ARCADE),this.physics.arcade.gravity.setTo(0,1),this.world.setBounds(0,0,this.game.width,this.game.height-c.BOTTOM_MARGIN)}},{key:"_getOrientationResetSize",value:function(e,t){var n=e.getSprite();if(t!==n.orientation)return n.orientation=t,function(){switch(t){case"left":n.body.setSize(100,200,0,0);break;case"right":n.body.setSize(100,200,50,0)}}}},{key:"_addAvatar",value:function(e,t,n){var r=this.add.image(e,t,n);r.width=c.CHARACTER_AVATAR_WIDTH,r.height=c.CHARACTER_AVATAR_HEIGHT}},{key:"_addBar",value:function(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0],a=this.add.image(e,t,"bar-blank"),s=this.add.image(e,t,n);return(r=a.anchor).setTo.apply(r,u(o)),(i=s.anchor).setTo.apply(i,u(o)),{blank:a,color:s}}},{key:"_setupSprite",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,1];n.createSprite(this,e,t,n.id+"-fight");var o=n.getSprite();(r=o.anchor).setTo.apply(r,u(i)),this.physics.arcade.enable(o),o.body.bounce.setTo(.9,.3),o.body.collideWorldBounds=!0,this._setupMoves(n)}},{key:"_setupMoves",value:function(e){var t=e.getSprite();t.events.onLeft=new Phaser.Signal,t.events.onLeft.add(function(){t.body.velocity.x-=c.HORIZONTAL_SPEED}),t.events.onRight=new Phaser.Signal,t.events.onRight.add(function(){t.body.velocity.x+=c.HORIZONTAL_SPEED}),t.events.onJumping=new Phaser.Signal,t.events.onJumping.add(function(){t.body.onFloor()&&(t.body.velocity.y-=c.JUMP)}),t.events.onKicking=new Phaser.Signal,t.events.onKicking.add(function(){t.play("kicking")}),t.events.onBoxing=new Phaser.Signal,t.events.onBoxing.add(function(){t.play("boxing")}),t.events.onDied=new Phaser.Signal}},{key:"_updateOptionsLvL",value:function(e){this.options[e].lvl.setText(this.game[e].lvl+" "+this.game.locale.FIGHT_STATE_LEVEL_SHORT)}},{key:"_setupKeyboard",value:function(){var e=this.game.player.getSprite(),t=this.input.keyboard.addKey(Phaser.Keyboard.C),n=this.input.keyboard.addKey(Phaser.Keyboard.X),r=this.input.keyboard.addKey(Phaser.Keyboard.UP),i=this.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);this.input.keyboard.addKeyCapture([Phaser.Keyboard.C,Phaser.Keyboard.X,Phaser.Keyboard.UP,Phaser.Keyboard.SPACEBAR]),t.onDown.add(function(){return e.events.onKicking.dispatch()}),n.onDown.add(function(){return e.events.onBoxing.dispatch()}),r.onDown.add(function(){return e.events.onJumping.dispatch()}),i.onDown.add(function(){return e.events.onJumping.dispatch()})}},{key:"_setupEnemy",value:function(){this.game.enemy=new a.default,this.game.enemy.setPersonality(this.game.enemies[0])}},{key:"create",value:function(){r(this,y,g),this.add.image(0,0,"bg-select-player"),this._setupWorld(),this._setupEnemy(),this._setupSprite(150,360,this.game.player),this._setupSprite(650,360,this.game.enemy,[1,1]),this._setupFightersActions(),this._setupPlayerOptions(),this._setupEnemyOptions(),this._setupFight(),this._setupKeyboard(),this.displayLogo(),d(this.game,""+this.game.locale.FIGHT_STATE_WELCOME)}},{key:"_setupFightersActions",value:function(){var e=this._getOrientationResetSize(this.game.player,"left");m(this.game.player,e),e(),this.game.player.getSprite().play("standing");var t=this._getOrientationResetSize(this.game.enemy,"right");m(this.game.enemy,t),t(),this.game.enemy.getSprite().play("standing")}},{key:"update",value:function(){var e=this.game.enemy.getSprite(),t=this.game.player.getSprite();this.physics.arcade.collide(e,t),b(e),b(t),this._handleKeyboard()}},{key:"_setupFight",value:function(){var e=this,t=this,n=this.game.player.getSprite(),r=this.game.enemy.getSprite();function i(){return t.physics.arcade.overlap(r,n)}function a(e){i()&&(t._addPlayerEXP(1.75*e),t._removeEnemyHP(e),r.body.velocity.x+=4*c.HORIZONTAL_SPEED)}function s(e){i()&&(t._addEnemyEXP(e),t._removePlayerHP(e),n.body.velocity.x-=4*c.HORIZONTAL_SPEED)}n.events.onKicking.add(function(){return a(c.KICKING_POINTS)}),n.events.onBoxing.add(function(){return a(c.BOXING_POINTS)}),n.events.onDied.add(function(){return e._finishFight("died","win")}),r.events.onKicking.add(function(){return s(c.KICKING_POINTS)}),r.events.onBoxing.add(function(){return s(c.BOXING_POINTS)}),r.events.onDied.add(function(){return e._finishFight("win","died")}),o.default.setup(this,r)}},{key:"_getLocaleStatus",value:function(e){f(p(e));var t=e.toLowerCase(),n=new Map;n.set("win",this.game.locale.FIGHT_STATE_PLAYER_WIN),n.set("died",this.game.locale.FIGHT_STATE_PLAYER_DIED);var r=n.get(t);return f(p(r)),r}},{key:"_finishFight",value:function(e,t){var n=this,r=this.game.player,i=r.getSprite(),o=this.game.enemy.getSprite(),a=4*Phaser.Timer.SECOND,s=r.title+" "+this._getLocaleStatus(e);d(this.game,s),this.input.keyboard.enabled=!1,i.body.velocity.setTo(0,0),o.body.velocity.setTo(0,0),i.play(e),o.play(t),i.alive=!1,o.alive=!1,h.timeout(this,a,function(){n.input.keyboard.enabled=!0,"died"===e?n.game.emit("game:over",{enemy:n.game.enemy}):(n.game.enemies.shift(),n.game.emit("enemy:killed",{enemy:n.game.enemy}))})}},{key:"_handleKeyboard",value:function(){var e=this.game.player.getSprite(),t=this.input.keyboard;t.isDown(Phaser.Keyboard.LEFT)?e.events.onLeft.dispatch():t.isDown(Phaser.Keyboard.RIGHT)&&e.events.onRight.dispatch()}},{key:"render",value:function(){this.game.player.getSprite();var e=this.game.enemy.getSprite();this.game.debug.body(e)}}]),t}();t.default=v},function(e,t,n){"use strict";var r=n(1);e.exports={setup:function(e,t){function n(n,i){r.interval(e,n,function(){if(t.alive){var e=r.random(0,i.length-1);(0,i[e])()}})}n(Phaser.Timer.SECOND,[function(){r.timesRandomAsync(e,5,Phaser.Timer.SECOND/4,function(){t.events.onBoxing.dispatch()})},function(){r.timesRandomAsync(e,5,Phaser.Timer.SECOND/4,function(){t.events.onKicking.dispatch()})}]),n(Phaser.Timer.SECOND/3,[function(){r.timesRandomAsync(e,10,Phaser.Timer.SECOND/20,function(){t.events.onLeft.dispatch()})},function(){r.timesRandomAsync(e,10,Phaser.Timer.SECOND/20,function(){t.events.onRight.dispatch()})}]),n(5*Phaser.Timer.SECOND,[function(){t.events.onJumping.dispatch()}])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(6));var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=i},function(e,t,n){"use strict";e.exports={BOTTOM_MARGIN:40,HORIZONTAL_SPEED:300,JUMP:500,FALL_SPEED:12,CHARACTER_AVATAR_WIDTH:50,CHARACTER_AVATAR_HEIGHT:70,KICKING_POINTS:5,BOXING_POINTS:3}},function(e,t,n){"use strict";var r=n(8),i=n(0).addSaiyanLabel;e.exports={_setupEnemyOptions:function(){var e=this.game.enemy;i(this.game,755,18,"HP"),i(this.game,755,48,"EXP"),this._addAvatar(745,85,e.id+"-card"),this.options.enemy.lvl=i(this.game,733,81,e.lvl+" "+this.game.locale.FIGHT_STATE_LEVEL_SHORT,[1,0]),this.options.enemy.hp=this._addBar(746,25,"bar-hp-invert",[1,0]),this._updateEnemyOptionsHP(),this.options.enemy.exp=this._addBar(746,55,"bar-exp-invert",[1,0]),this._updateEnemyOptionsEXP()},_updateEnemyOptionsHP:function(){var e=this.game.enemy.hp,t=this.cache.getImage("bar-hp-invert").width,n=e*t/100;this.options.enemy.hp.color.crop(new Phaser.Rectangle(t-n,0,n,16))},_updateEnemyOptionsEXP:function(){var e=this.game.enemy.exp,t=this.cache.getImage("bar-exp").width,n=e*t/100;this.options.enemy.exp.color.crop(new Phaser.Rectangle(t-n,0,n,16))},_removeEnemyHP:function(e){var t=this.game.enemy,n=t.getSprite();t.hp-=e,t.hp<=0&&(t.hp=0,n.events.onDied.dispatch()),this._updateEnemyOptionsHP(),this._updateOptionsLvL("enemy")},_addEnemyEXP:function(e){var t=this.game.enemy;t.exp+=e,t.exp>=r.MAXIMUM_EXPERIENCE&&(t.exp=0,t.lvl<r.MAXIMUM_LEVEL&&t.lvl++),this._updateEnemyOptionsEXP(),this._updateOptionsLvL("enemy")}}},function(e,t,n){"use strict";var r=n(8),i=n(0).addSaiyanLabel;e.exports={_setupPlayerOptions:function(){var e=this.game.player;i(this.game,21,18,"HP"),i(this.game,8,48,"EXP"),this._addAvatar(6,85,e.id+"-card"),this.options.player.lvl=i(this.game,63,81,e.lvl+" "+this.game.locale.FIGHT_STATE_LEVEL_SHORT),this.options.player.hp=this._addBar(55,25,"bar-hp"),this._updatePlayerOptionsHP(),this.options.player.exp=this._addBar(55,55,"bar-exp"),this._updatePlayerOptionsEXP()},_updatePlayerOptionsHP:function(){var e=this.game.player.hp*this.cache.getImage("bar-hp").width/100;this.options.player.hp.color.crop(new Phaser.Rectangle(0,0,e,16))},_updatePlayerOptionsEXP:function(){var e=this.game.player.exp*this.cache.getImage("bar-exp").width/100;this.options.player.exp.color.crop(new Phaser.Rectangle(0,0,e,16))},_removePlayerHP:function(e){var t=this.game.player,n=t.getSprite();t.hp-=e,t.hp<=0&&(t.hp=0,n.events.onDied.dispatch()),this._updatePlayerOptionsHP(),this._updateOptionsLvL("player")},_addPlayerEXP:function(e){var t=this.game.player;t.exp+=e,t.exp>=r.MAXIMUM_EXPERIENCE&&(t.exp=0,t.lvl<r.MAXIMUM_LEVEL&&t.lvl++),this._updatePlayerOptionsEXP(),this._updateOptionsLvL("player")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(0).addSaiyanLabel,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),r(t,[{key:"create",value:function(){var e=this;this.add.image(0,0,"bg-win"),i(this.game,180,60,"Winner!").fontSize=180,setTimeout(function(){e.game.emit("game:credits")},2e3)}}]),t}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(0),o=i.addSaiyanLabel,a=i.addLabel,s=i.addRepeatLink,u=n(4),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),r(t,[{key:"create",value:function(){this.add.image(0,0,"bg-credits"),o(this.game,this.game.world.centerX,20,"Credits",[.5,0]).fontSize=60,a(this.game,this.game.world.centerX,110,"Developed by",[.5,0]).fontSize=20,a(this.game,this.game.world.centerX,140,"Piotr Kowalski",[.5,0]).fontSize=30,a(this.game,this.game.world.centerX,180,"@piecioshka",[.5,0]).fontSize=30;var e=a(this.game,this.game.world.centerX,260,"v"+u.version,[.5,0]);e.setShadow(0,0,null,0),e.fill="rgba(0,0,0,1)",e.fontSize=20,s(this.game).events.onInputDown.add(this._tryAgain,this),this._setupKeyboard()}},{key:"_setupKeyboard",value:function(){var e=this,t=this.input.keyboard.addKey(Phaser.Keyboard.ENTER);this.input.keyboard.addKeyCapture([Phaser.Keyboard.ENTER]),t.onDown.add(function(){return e._tryAgain()})}},{key:"_tryAgain",value:function(){this.game.emit("game:over:try-again",{enemy:this.game.enemy})}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.State),r(t,[{key:"create",value:function(){}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();"function"!=typeof ga&&(window.ga=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("[Google Analytics]")});t.StatisticsManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=null,this.game=t}return r(e,[{key:"start",value:function(){this.game.on("player:choose",function(e){var t=e.character;ga("send","event","game","choose-"+t.id)}),this.game.on("locale:select",function(e){var t=e.locale;ga("send","event","game",t)}),this.game.on("game:over",function(){ga("send","event","game","over")}),this.game.on("game:over:try-again",function(){ga("send","event","game","try-again")}),this.game.on("game:win",function(){ga("send","event","game","win")}),this.game.on("game:win:try-again",function(){ga("send","event","game","win-try-again")})}}]),e}()},function(e,t,n){"use strict";e.exports={WIDTH:800,HEIGHT:400,RENDER_ID:"game-area"}}]);
//# sourceMappingURL=bundle.js.map